mode: 0755
overwrite: true
path: "/usr/local/lib/ocf/resource.d/ocp-tnf/podman-etcd"
contents:
  compression: ""
  source: data:text/plain;charset=utf-8;base64,IyEvYmluL3NoCiMKIyBUaGUgcG9kbWFuIGV0Y2QgSEEgcmVzb3VyY2UgYWdlbnQgY3JlYXRlcyBhbmQgbGF1bmNoZXMgYSBldGNkIHBvZG1hbgojIGNvbnRhaW5lciBiYXNlZCBvZmYgYSBzdXBwbGllZCBwb2RtYW4gaW1hZ2UuIENvbnRhaW5lcnMgbWFuYWdlZCBieQojIHRoaXMgYWdlbnQgYXJlIGJvdGggY3JlYXRlZCBhbmQgcmVtb3ZlZCB1cG9uIHRoZSBhZ2VudCdzIHN0YXJ0IGFuZAojIHN0b3AgYWN0aW9ucy4KIwojIEJhc2VkIG9uIHRoZSBwb2RtYW4gcmVzb3VyY2UgYWdlbnQuCiMKIyBDb3B5cmlnaHQgKGMpIDIwMTQgRGF2aWQgVm9zc2VsIDxkYXZpZHZvc3NlbEBnbWFpbC5jb20+CiMgICAgICAgICAgICAgICAgICAgIE1pY2hlbGUgQmFsZGVzc2FyaSA8bWljaGVsZUBhY2tzeW4ub3JnPgojICAgICAgICAgICAgICAgICAgICBBbGwgUmlnaHRzIFJlc2VydmVkLgojCiMgVGhpcyBwcm9ncmFtIGlzIGZyZWUgc29mdHdhcmU7IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnkKIyBpdCB1bmRlciB0aGUgdGVybXMgb2YgdmVyc2lvbiAyIG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcwojIHB1Ymxpc2hlZCBieSB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLgojCiMgVGhpcyBwcm9ncmFtIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd291bGQgYmUgdXNlZnVsLCBidXQKIyBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mCiMgTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLgojCiMgRnVydGhlciwgdGhpcyBzb2Z0d2FyZSBpcyBkaXN0cmlidXRlZCB3aXRob3V0IGFueSB3YXJyYW50eSB0aGF0IGl0IGlzCiMgZnJlZSBvZiB0aGUgcmlnaHRmdWwgY2xhaW0gb2YgYW55IHRoaXJkIHBlcnNvbiByZWdhcmRpbmcgaW5mcmluZ2VtZW50CiMgb3IgdGhlIGxpa2UuICBBbnkgbGljZW5zZSBwcm92aWRlZCBoZXJlaW4sIHdoZXRoZXIgaW1wbGllZCBvcgojIG90aGVyd2lzZSwgYXBwbGllcyBvbmx5IHRvIHRoaXMgc29mdHdhcmUgZmlsZS4gIFBhdGVudCBsaWNlbnNlcywgaWYKIyBhbnksIHByb3ZpZGVkIGhlcmVpbiBkbyBub3QgYXBwbHkgdG8gY29tYmluYXRpb25zIG9mIHRoaXMgcHJvZ3JhbSB3aXRoCiMgb3RoZXIgc29mdHdhcmUsIG9yIGFueSBvdGhlciBwcm9kdWN0IHdoYXRzb2V2ZXIuCiMKIyBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgR2VuZXJhbCBQdWJsaWMgTGljZW5zZQojIGFsb25nIHdpdGggdGhpcyBwcm9ncmFtOyBpZiBub3QsIHdyaXRlIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sCiMgSW5jLiwgNTkgVGVtcGxlIFBsYWNlIC0gU3VpdGUgMzMwLCBCb3N0b24gTUEgMDIxMTEtMTMwNywgVVNBLgojCgojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwojIEluaXRpYWxpemF0aW9uOgoKOiAke09DRl9GVU5DVElPTlNfRElSPSR7T0NGX1JPT1R9L2xpYi9oZWFydGJlYXR9Ci4gJHtPQ0ZfRlVOQ1RJT05TX0RJUn0vb2NmLXNoZWxsZnVuY3MKCiMgUGFyYW1ldGVyIGRlZmF1bHRzCk9DRl9SRVNLRVlfaW1hZ2VfZGVmYXVsdD0iZGVmYXVsdCIKT0NGX1JFU0tFWV9wb2RfbWFuaWZlc3RfZGVmYXVsdD0iL2V0Yy9rdWJlcm5ldGVzL3N0YXRpYy1wb2QtcmVzb3VyY2VzL2V0Y2QtY2VydHMvY29uZmlnbWFwcy9leHRlcm5hbC1ldGNkLXBvZC9wb2QueWFtbCIKT0NGX1JFU0tFWV9uYW1lX2RlZmF1bHQ9ImV0Y2QiCk9DRl9SRVNLRVlfbmljX2RlZmF1bHQ9ImJyLWV4IgpPQ0ZfUkVTS0VZX2F1dGhmaWxlX2RlZmF1bHQ9Ii92YXIvbGliL2t1YmVsZXQvY29uZmlnLmpzb24iCk9DRl9SRVNLRVlfYWxsb3dfcHVsbF9kZWZhdWx0PSIxIgpPQ0ZfUkVTS0VZX3JldXNlX2RlZmF1bHQ9IjAiCgo6ICR7T0NGX1JFU0tFWV9pbWFnZT0ke09DRl9SRVNLRVlfaW1hZ2VfZGVmYXVsdH19CjogJHtPQ0ZfUkVTS0VZX3BvZF9tYW5pZmVzdD0ke09DRl9SRVNLRVlfcG9kX21hbmlmZXN0X2RlZmF1bHR9fQo6ICR7T0NGX1JFU0tFWV9uYW1lPSR7T0NGX1JFU0tFWV9uYW1lX2RlZmF1bHR9fQo6ICR7T0NGX1JFU0tFWV9uaWM9JHtPQ0ZfUkVTS0VZX25pY19kZWZhdWx0fX0KOiAke09DRl9SRVNLRVlfYXV0aGZpbGU9JHtPQ0ZfUkVTS0VZX2F1dGhmaWxlX2RlZmF1bHR9fQo6ICR7T0NGX1JFU0tFWV9hbGxvd19wdWxsPSR7T0NGX1JFU0tFWV9hbGxvd19wdWxsX2RlZmF1bHR9fQo6ICR7T0NGX1JFU0tFWV9yZXVzZT0ke09DRl9SRVNLRVlfcmV1c2VfZGVmYXVsdH19CiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCgptZXRhX2RhdGEoKQp7CgljYXQgPDxFTkQKPD94bWwgdmVyc2lvbj0iMS4wIj8+CjwhRE9DVFlQRSByZXNvdXJjZS1hZ2VudCBTWVNURU0gInJhLWFwaS0xLmR0ZCI+CjxyZXNvdXJjZS1hZ2VudCBuYW1lPSJwb2RtYW4tZXRjZCIgdmVyc2lvbj0iMS4wIj4KPHZlcnNpb24+MS4wPC92ZXJzaW9uPgoKPGxvbmdkZXNjIGxhbmc9ImVuIj4KVGhlIHBvZG1hbi1ldGNkIEhBIHJlc291cmNlIGFnZW50IGNyZWF0ZXMgYW5kIGxhdW5jaGVzIGEgZXRjZCBwb2RtYW4KY29udGFpbmVyIGJhc2VkIG9mZiBhIHN1cHBsaWVkIHBvZG1hbiBpbWFnZS4gQ29udGFpbmVycyBtYW5hZ2VkIGJ5CnRoaXMgYWdlbnQgYXJlIGJvdGggY3JlYXRlZCBhbmQgcmVtb3ZlZCB1cG9uIHRoZSBhZ2VudCdzIHN0YXJ0IGFuZApzdG9wIGFjdGlvbnMuCjwvbG9uZ2Rlc2M+CjxzaG9ydGRlc2MgbGFuZz0iZW4iPlBvZG1hbiBldGNkIGNvbnRhaW5lciByZXNvdXJjZSBhZ2VudC48L3Nob3J0ZGVzYz4KCjxwYXJhbWV0ZXJzPgo8cGFyYW1ldGVyIG5hbWU9InBvZF9tYW5pZmVzdCIgcmVxdWlyZWQ9IjAiIHVuaXF1ZT0iMCI+Cjxsb25nZGVzYyBsYW5nPSJlbiI+ClRoZSBQb2QgbWFuaWZlc3Qgd2l0aCB0aGUgY29uZmlndXJhdGlvbiBmb3IgRXRjZC4KPC9sb25nZGVzYz4KPHNob3J0ZGVzYyBsYW5nPSJlbiI+RXRjZCBwb2QgbWFuaWZlc3Q8L3Nob3J0ZGVzYz4KPGNvbnRlbnQgdHlwZT0ic3RyaW5nIiBkZWZhdWx0PSIke09DRl9SRVNLRVlfcG9kX21hbmlmZXN0X2RlZmF1bHR9Ii8+CjwvcGFyYW1ldGVyPgoKPHBhcmFtZXRlciBuYW1lPSJpbWFnZSIgcmVxdWlyZWQ9IjAiIHVuaXF1ZT0iMCI+Cjxsb25nZGVzYyBsYW5nPSJlbiI+ClRoZSBwb2RtYW4gaW1hZ2UgdG8gYmFzZSB0aGlzIGNvbnRhaW5lciBvZmYgb2YuCjwvbG9uZ2Rlc2M+CjxzaG9ydGRlc2MgbGFuZz0iZW4iPnBvZG1hbiBpbWFnZTwvc2hvcnRkZXNjPgo8Y29udGVudCB0eXBlPSJzdHJpbmciIGRlZmF1bHQ9IiR7T0NGX1JFU0tFWV9pbWFnZV9kZWZhdWx0fSIvPgo8L3BhcmFtZXRlcj4KCjxwYXJhbWV0ZXIgbmFtZT0ibmFtZSIgcmVxdWlyZWQ9IjAiIHVuaXF1ZT0iMCI+Cjxsb25nZGVzYyBsYW5nPSJlbiI+ClRoZSBuYW1lIHRvIGdpdmUgdGhlIGNyZWF0ZWQgY29udGFpbmVyLiBCeSBkZWZhdWx0IHRoaXMgd2lsbApiZSB0aGF0IHJlc291cmNlJ3MgaW5zdGFuY2UgbmFtZS4KPC9sb25nZGVzYz4KPHNob3J0ZGVzYyBsYW5nPSJlbiI+cG9kbWFuIGNvbnRhaW5lciBuYW1lPC9zaG9ydGRlc2M+Cjxjb250ZW50IHR5cGU9InN0cmluZyIgZGVmYXVsdD0iJHtPQ0ZfUkVTS0VZX25hbWVfZGVmYXVsdH0iLz4KPC9wYXJhbWV0ZXI+Cgo8cGFyYW1ldGVyIG5hbWU9Im5vZGVfaXBfbWFwIiB1bmlxdWU9IjAiIHJlcXVpcmVkPSIxIj4KPGxvbmdkZXNjIGxhbmc9ImVuIj4KQSBtYXBwaW5nIG9mIG5vZGUgbmFtZXMgdG8gSVBzLgoKVGhpcyB0YWtlcyB0aGUgZm9ybSBvZjoKbjE6aXAxO24yOmlwMgoKd2hlcmUgdGhlIGV0Y2QgY29udGFpbmVyIG9uIG4xIHdvdWxkIGhhdmUgSVAgaXAxCjwvbG9uZ2Rlc2M+CjxzaG9ydGRlc2MgbGFuZz0iZW4iPkNvbnRhaW5lciBub2RlIG5hbWUgdG8gSVAgbWFwcGluZzwvc2hvcnRkZXNjPgo8Y29udGVudCB0eXBlPSJzdHJpbmciLz4KPC9wYXJhbWV0ZXI+Cgo8cGFyYW1ldGVyIG5hbWU9Im5pYyIgdW5pcXVlPSIwIj4KPGxvbmdkZXNjIGxhbmc9ImVuIj4KTmV0d29yayBpbnRlcmZhY2UgdG8gbG9va3VwIGludGVyZmFjZSBmb3IgaG9zdC4KPC9sb25nZGVzYz4KPHNob3J0ZGVzYyBsYW5nPSJlbiI+TmV0d29yayBpbnRlcmZhY2U8L3Nob3J0ZGVzYz4KPGNvbnRlbnQgdHlwZT0ic3RyaW5nIiBkZWZhdWx0PSIke09DRl9SRVNLRVlfbmljX2RlZmF1bHR9Ii8+CjwvcGFyYW1ldGVyPgoKPHBhcmFtZXRlciBuYW1lPSJhdXRoZmlsZSIgcmVxdWlyZWQ9IjAiIHVuaXF1ZT0iMCI+Cjxsb25nZGVzYyBsYW5nPSJlbiI+ClBhdGggb2YgdGhlIGF1dGhlbnRpY2F0aW9uIGZpbGUuCgpUaGUgZmlsZSBpcyBjcmVhdGVkIGJ5IHBvZG1hbiBsb2dpbi4KPC9sb25nZGVzYz4KPHNob3J0ZGVzYyBsYW5nPSJlbiI+UGF0aCBvZiB0aGUgYXV0aGVudGljYXRpb24gZmlsZSA8L3Nob3J0ZGVzYz4KPGNvbnRlbnQgdHlwZT0ic3RyaW5nIiBkZWZhdWx0PSIke09DRl9SRVNLRVlfYXV0aGZpbGVfZGVmYXVsdH0iLz4KPC9wYXJhbWV0ZXI+Cgo8cGFyYW1ldGVyIG5hbWU9ImFsbG93X3B1bGwiIHVuaXF1ZT0iMCI+Cjxsb25nZGVzYyBsYW5nPSJlbiI+CkFsbG93IHRoZSBpbWFnZSB0byBiZSBwdWxsZWQgZnJvbSB0aGUgY29uZmlndXJlZCBwb2RtYW4gcmVnaXN0cnkgd2hlbgp0aGUgaW1hZ2UgZG9lcyBub3QgZXhpc3QgbG9jYWxseS4gTk9URSwgdGhpcyBjYW4gZHJhc3RpY2FsbHkgaW5jcmVhc2UKdGhlIHRpbWUgcmVxdWlyZWQgdG8gc3RhcnQgdGhlIGNvbnRhaW5lciBpZiB0aGUgaW1hZ2UgcmVwb3NpdG9yeSBpcwpwdWxsZWQgb3ZlciB0aGUgbmV0d29yay4KPC9sb25nZGVzYz4KPHNob3J0ZGVzYyBsYW5nPSJlbiI+QWxsb3cgcHVsbGluZyBub24tbG9jYWwgaW1hZ2VzPC9zaG9ydGRlc2M+Cjxjb250ZW50IHR5cGU9ImJvb2xlYW4iIGRlZmF1bHQ9IiR7T0NGX1JFU0tFWV9hbGxvd19wdWxsX2RlZmF1bHR9Ii8+CjwvcGFyYW1ldGVyPgoKPHBhcmFtZXRlciBuYW1lPSJydW5fb3B0cyIgcmVxdWlyZWQ9IjAiIHVuaXF1ZT0iMCI+Cjxsb25nZGVzYyBsYW5nPSJlbiI+CkFkZCBvcHRpb25zIHRvIGJlIGFwcGVuZGVkIHRvIHRoZSAncG9kbWFuIHJ1bicgY29tbWFuZCB3aGljaCBpcyB1c2VkCndoZW4gY3JlYXRpbmcgdGhlIGNvbnRhaW5lciBkdXJpbmcgdGhlIHN0YXJ0IGFjdGlvbi4gVGhpcyBvcHRpb24gYWxsb3dzCnVzZXJzIHRvIGRvIHRoaW5ncyBzdWNoIGFzIHNldHRpbmcgYSBjdXN0b20gZW50cnkgcG9pbnQgYW5kIGluamVjdGluZwplbnZpcm9ubWVudCB2YXJpYWJsZXMgaW50byB0aGUgbmV3bHkgY3JlYXRlZCBjb250YWluZXIuIE5vdGUgdGhlICctZCcKb3B0aW9uIGlzIHN1cHBsaWVkIHJlZ2FyZGxlc3Mgb2YgdGhpcyB2YWx1ZSB0byBmb3JjZSBjb250YWluZXJzIHRvIHJ1bgppbiB0aGUgYmFja2dyb3VuZC4KCk5PVEU6IERvIG5vdCBleHBsaWNpdGx5IHNwZWNpZnkgdGhlIC0tbmFtZSBhcmd1bWVudCBpbiB0aGUgcnVuX29wdHMuIFRoaXMKYWdlbnQgd2lsbCBzZXQgLS1uYW1lIHVzaW5nIGVpdGhlciB0aGUgcmVzb3VyY2UncyBpbnN0YW5jZSBvciB0aGUgbmFtZQpwcm92aWRlZCBpbiB0aGUgJ25hbWUnIGFyZ3VtZW50IG9mIHRoaXMgYWdlbnQuCgo8L2xvbmdkZXNjPgo8c2hvcnRkZXNjIGxhbmc9ImVuIj5ydW4gb3B0aW9uczwvc2hvcnRkZXNjPgo8Y29udGVudCB0eXBlPSJzdHJpbmciLz4KPC9wYXJhbWV0ZXI+Cgo8cGFyYW1ldGVyIG5hbWU9InJ1bl9jbWQiIHJlcXVpcmVkPSIwIiB1bmlxdWU9IjAiPgo8bG9uZ2Rlc2MgbGFuZz0iZW4iPgpTcGVjaWZ5IGEgY29tbWFuZCB0byBsYXVuY2ggd2l0aGluIHRoZSBjb250YWluZXIgb25jZQppdCBoYXMgaW5pdGlhbGl6ZWQuCjwvbG9uZ2Rlc2M+CjxzaG9ydGRlc2MgbGFuZz0iZW4iPnJ1biBjb21tYW5kPC9zaG9ydGRlc2M+Cjxjb250ZW50IHR5cGU9InN0cmluZyIvPgo8L3BhcmFtZXRlcj4KCjxwYXJhbWV0ZXIgbmFtZT0icnVuX2NtZF9vcHRzIiByZXF1aXJlZD0iMCIgdW5pcXVlPSIwIj4KPGxvbmdkZXNjIGxhbmc9ImVuIj4KT3B0aW9ucyB0byBiZSBhZGRlZCB0byB0aGUgJ3J1bl9jbWQnLgo8L2xvbmdkZXNjPgo8c2hvcnRkZXNjIGxhbmc9ImVuIj5ydW4gY29tbWFuZCBvcHRpb25zPC9zaG9ydGRlc2M+Cjxjb250ZW50IHR5cGU9InN0cmluZyIvPgo8L3BhcmFtZXRlcj4KCjxwYXJhbWV0ZXIgbmFtZT0ibW91bnRfcG9pbnRzIiByZXF1aXJlZD0iMCIgdW5pcXVlPSIwIj4KPGxvbmdkZXNjIGxhbmc9ImVuIj4KQSBjb21tYSBzZXBhcmF0ZWQgbGlzdCBvZiBkaXJlY3RvcmllcyB0aGF0IHRoZSBjb250YWluZXIgaXMgZXhwZWN0aW5nIHRvIHVzZS4KVGhlIGFnZW50IHdpbGwgZW5zdXJlIHRoZXkgZXhpc3QgYnkgcnVubmluZyAnbWtkaXIgLXAnCjwvbG9uZ2Rlc2M+CjxzaG9ydGRlc2MgbGFuZz0iZW4iPlJlcXVpcmVkIG1vdW50IHBvaW50czwvc2hvcnRkZXNjPgo8Y29udGVudCB0eXBlPSJzdHJpbmciLz4KPC9wYXJhbWV0ZXI+Cgo8cGFyYW1ldGVyIG5hbWU9Im1vbml0b3JfY21kIiByZXF1aXJlZD0iMCIgdW5pcXVlPSIwIj4KPGxvbmdkZXNjIGxhbmc9ImVuIj4KU3BlY2lmeSB0aGUgZnVsbCBwYXRoIG9mIGEgY29tbWFuZCB0byBsYXVuY2ggd2l0aGluIHRoZSBjb250YWluZXIgdG8gY2hlY2sKdGhlIGhlYWx0aCBvZiB0aGUgY29udGFpbmVyLiBUaGlzIGNvbW1hbmQgbXVzdCByZXR1cm4gMCB0byBpbmRpY2F0ZSB0aGF0CnRoZSBjb250YWluZXIgaXMgaGVhbHRoeS4gQSBub24temVybyByZXR1cm4gY29kZSB3aWxsIGluZGljYXRlIHRoYXQgdGhlCmNvbnRhaW5lciBoYXMgZmFpbGVkIGFuZCBzaG91bGQgYmUgcmVjb3ZlcmVkLgoKTm90ZTogVXNpbmcgdGhpcyBtZXRob2QgZm9yIG1vbml0b3JpbmcgcHJvY2Vzc2VzIGluc2lkZSBhIGNvbnRhaW5lcgppcyBub3QgcmVjb21tZW5kZWQsIGFzIGNvbnRhaW5lcmQgdHJpZXMgdG8gdHJhY2sgcHJvY2Vzc2VzIHJ1bm5pbmcKaW5zaWRlIHRoZSBjb250YWluZXIgYW5kIGRvZXMgbm90IGRlYWwgd2VsbCB3aXRoIG1hbnkgc2hvcnQtbGl2ZWQKcHJvY2Vzc2VzIGJlaW5nIHNwYXduZWQuIEVuc3VyZSB0aGF0IHlvdXIgY29udGFpbmVyIG1vbml0b3JzIGl0cwpvd24gcHJvY2Vzc2VzIGFuZCB0ZXJtaW5hdGVzIG9uIGZhdGFsIGVycm9yIHJhdGhlciB0aGFuIGludm9raW5nCmEgY29tbWFuZCBmcm9tIHRoZSBvdXRzaWRlLgo8L2xvbmdkZXNjPgo8c2hvcnRkZXNjIGxhbmc9ImVuIj5tb25pdG9yIGNvbW1hbmQ8L3Nob3J0ZGVzYz4KPGNvbnRlbnQgdHlwZT0ic3RyaW5nIi8+CjwvcGFyYW1ldGVyPgoKPHBhcmFtZXRlciBuYW1lPSJmb3JjZV9raWxsIiByZXF1aXJlZD0iMCIgdW5pcXVlPSIwIj4KPGxvbmdkZXNjIGxhbmc9ImVuIj4KS2lsbCBhIGNvbnRhaW5lciBpbW1lZGlhdGVseSByYXRoZXIgdGhhbiB3YWl0aW5nIGZvciBpdCB0byBncmFjZWZ1bGx5CnNodXRkb3duCjwvbG9uZ2Rlc2M+CjxzaG9ydGRlc2MgbGFuZz0iZW4iPmZvcmNlIGtpbGw8L3Nob3J0ZGVzYz4KPGNvbnRlbnQgdHlwZT0iYm9vbGVhbiIvPgo8L3BhcmFtZXRlcj4KCjxwYXJhbWV0ZXIgbmFtZT0icmV1c2UiIHJlcXVpcmVkPSIwIiB1bmlxdWU9IjAiPgo8bG9uZ2Rlc2MgbGFuZz0iZW4iPgpBbGxvdyB0aGUgY29udGFpbmVyIHRvIGJlIHJldXNlZCBvbmNlIGl0IGlzIHN0b3BwZWQuICBCeSBkZWZhdWx0LApjb250YWluZXJzIGdldCByZW1vdmVkIG9uY2UgdGhleSBhcmUgc3RvcHBlZC4gIEVuYWJsZSB0aGlzIG9wdGlvbgp0byBoYXZlIHRoZSBwYXJ0aWN1bGFyIG9uZSBwZXJzaXN0IHdoZW4gdGhpcyBoYXBwZW5zLgo8L2xvbmdkZXNjPgo8c2hvcnRkZXNjIGxhbmc9ImVuIj5yZXVzZSBjb250YWluZXI8L3Nob3J0ZGVzYz4KPGNvbnRlbnQgdHlwZT0iYm9vbGVhbiIgZGVmYXVsdD0iJHtPQ0ZfUkVTS0VZX3JldXNlX2RlZmF1bHR9Ii8+CjwvcGFyYW1ldGVyPgoKPHBhcmFtZXRlciBuYW1lPSJkcm9wX2luX2RlcGVuZGVuY3kiIHJlcXVpcmVkPSIwIiB1bmlxdWU9IjAiPgo8bG9uZ2Rlc2MgbGFuZz0iZW4iPgpVc2UgdHJhbnNpZW50IGRyb3AtaW4gZmlsZXMgdG8gYWRkIGV4dHJhIGRlcGVuZGVuY2llcyB0byB0aGUgc3lzdGVtZApzY29wZXMgYXNzb2NpYXRlZCB0byB0aGUgY29udGFpbmVyLiBEdXJpbmcgcmVib290LCB0aGlzIHByZXZlbnRzIHN5c3RlbWQKdG8gc3RvcCB0aGUgY29udGFpbmVyIGJlZm9yZSBwYWNlbWFrZXIuCjwvbG9uZ2Rlc2M+CjxzaG9ydGRlc2MgbGFuZz0iZW4iPmRyb3AtaW4gZGVwZW5kZW5jeTwvc2hvcnRkZXNjPgo8Y29udGVudCB0eXBlPSJib29sZWFuIi8+CjwvcGFyYW1ldGVyPgo8L3BhcmFtZXRlcnM+Cgo8YWN0aW9ucz4KPGFjdGlvbiBuYW1lPSJzdGFydCIgICAgICAgIHRpbWVvdXQ9IjYwMHMiIC8+CjxhY3Rpb24gbmFtZT0ic3RvcCIgICAgICAgICB0aW1lb3V0PSI5MHMiIC8+CjxhY3Rpb24gbmFtZT0ibW9uaXRvciIgICAgICB0aW1lb3V0PSIyNXMiIGludGVydmFsPSIzMHMiIGRlcHRoPSIwIiAvPgo8YWN0aW9uIG5hbWU9InByb21vdGUiICAgICAgdGltZW91dD0iMzAwcyIgLz4KPGFjdGlvbiBuYW1lPSJkZW1vdGUiICAgICAgIHRpbWVvdXQ9IjEyMHMiIC8+CjxhY3Rpb24gbmFtZT0ibWV0YS1kYXRhIiAgICB0aW1lb3V0PSI1cyIgLz4KPGFjdGlvbiBuYW1lPSJ2YWxpZGF0ZS1hbGwiICAgdGltZW91dD0iMzBzIiAvPgo8L2FjdGlvbnM+CjwvcmVzb3VyY2UtYWdlbnQ+CkVORAp9CgojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwpSRVFVSVJFX0lNQUdFX1BVTEw9MAoKcG9kbWFuX3VzYWdlKCkKewoJY2F0IDw8RU5ECnVzYWdlOiAkMCB7c3RhcnR8c3RvcHxtb25pdG9yfHByb21vdGV8ZGVtb3RlfHZhbGlkYXRlLWFsbHxtZXRhLWRhdGF9CgpFeHBlY3RzIHRvIGhhdmUgYSBmdWxseSBwb3B1bGF0ZWQgT0NGIFJBLWNvbXBsaWFudCBlbnZpcm9ubWVudCBzZXQuCkVORAp9CgoKbW9uaXRvcl9jbWRfZXhlYygpCnsKCWxvY2FsIHJjPSRPQ0ZfU1VDQ0VTUwoJbG9jYWwgb3V0CgoJb3V0PSQocG9kbWFuIGV4ZWMgJHtDT05UQUlORVJ9ICRPQ0ZfUkVTS0VZX21vbml0b3JfY21kIDI+JjEpCglyYz0kPwoJIyAxMjU6IG5vIGNvbnRhaW5lciB3aXRoIG5hbWUgb3IgSUQgJHtDT05UQUlORVJ9IGZvdW5kCgkjIDEyNjogY29udGFpbmVyIHN0YXRlIGltcHJvcGVyIChub3QgcnVubmluZykKCSMgMTI3OiBhbnkgb3RoZXIgZXJyb3IKCSMgMjU1OiBwb2RtYW4gMis6IGNvbnRhaW5lciBub3QgcnVubmluZwoJY2FzZSAiJHJjIiBpbgoJCTEyNXwxMjZ8MjU1KQoJCQlyYz0kT0NGX05PVF9SVU5OSU5HCgkJCTs7CgkJMCkKCQkJb2NmX2xvZyBkZWJ1ZyAibW9uaXRvciBjbWQgcGFzc2VkOiBleGl0IGNvZGUgPSAkcmMiCgkJCTs7CgkJKikKCQkJb2NmX2V4aXRfcmVhc29uICJtb25pdG9yIGNtZCBmYWlsZWQgKHJjPSRyYyksIG91dHB1dDogJG91dCIKCQkJcmM9JE9DRl9FUlJfR0VORVJJQwoJCQk7OwoJZXNhYwoKCXJldHVybiAkcmMKfQoKY29udGFpbmVyX2V4aXN0cygpCnsKCWxvY2FsIHJjCglsb2NhbCBvdXQKCglvdXQ9JChwb2RtYW4gZXhlYyAke0NPTlRBSU5FUn0gJE9DRl9SRVNLRVlfbW9uaXRvcl9jbWQgMj4mMSkKCXJjPSQ/CgkjIDEyNTogbm8gY29udGFpbmVyIHdpdGggbmFtZSBvciBJRCAke0NPTlRBSU5FUn0gZm91bmQKCWlmIFsgJHJjIC1uZSAxMjUgXTsgdGhlbgoJCXJldHVybiAwCglmaQoJcmV0dXJuIDEKfQoKcmVtb3ZlX2NvbnRhaW5lcigpCnsKCWxvY2FsIHJjCglsb2NhbCBleGVjaWRzCgoJaWYgb2NmX2lzX3RydWUgIiRPQ0ZfUkVTS0VZX3JldXNlIjsgdGhlbgoJCSMgbmV2ZXIgcmVtb3ZlIHRoZSBjb250YWluZXIgaWYgd2UgaGF2ZSByZXVzZSBlbmFibGVkLgoJCXJldHVybiAwCglmaQoKCWNvbnRhaW5lcl9leGlzdHMKCWlmIFsgJD8gLW5lIDAgXTsgdGhlbgoJCSMgZG9uJ3QgYXR0ZW1wdCB0byByZW1vdmUgYSBjb250YWluZXIgdGhhdCBkb2Vzbid0IGV4aXN0CgkJcmV0dXJuIDAKCWZpCglvY2ZfbG9nIG5vdGljZSAiQ2xlYW5pbmcgdXAgaW5hY3RpdmUgY29udGFpbmVyLCAke0NPTlRBSU5FUn0uIgoJb2NmX3J1biBwb2RtYW4gcm0gLXYgJENPTlRBSU5FUgoJcmM9JD8KCWlmIFsgJHJjIC1uZSAwIF07IHRoZW4KCQlpZiBbICRyYyAtZXEgMiBdOyB0aGVuCgkJCWlmIHBvZG1hbiBpbnNwZWN0IC0tZm9ybWF0ICd7ey5TdGF0ZS5TdGF0dXN9fScgJENPTlRBSU5FUiB8IGdyZXAgLXdxICJzdG9wcGluZyI7IHRoZW4KCQkJCW9jZl9sb2cgZXJyICJJbmFjdGl2ZSBjb250YWluZXIgJHtDT05UQUlORVJ9IGlzIHN0dWNrIGluICdzdG9wcGluZycgc3RhdGUuIEZvcmNlLXJlbW92ZSBpdC4iCgkJCQlvY2ZfcnVuIHBvZG1hbiBybSAtZiAkQ09OVEFJTkVSCgkJCQlyYz0kPwoJCQlmaQoJCWZpCgkJIyBkdWUgdG8gYSBwb2RtYW4gYnVnIChyaGJ6IzE4NDE0ODUpLCBzb21ldGltZXMgYSBzdG9wcGVkCgkJIyBjb250YWluZXIgY2FuIHN0aWxsIGJlIGFzc29jaWF0ZWQgd2l0aCBFeGVjIHNlc3Npb25zLCBpbgoJCSMgd2hpY2ggY2FzZSB0aGUgInBvZG1hbiBybSIgaGFzIHRvIGJlIGZvcmNlZAoJCWV4ZWNpZHM9JChwb2RtYW4gaW5zcGVjdCAkQ09OVEFJTkVSIC0tZm9ybWF0ICd7e2xlbiAuRXhlY0lEc319JykKCQlpZiBbICIkZXhlY2lkcyIgLW5lICIwIiBdOyB0aGVuCgkJCW9jZl9sb2cgd2FybiAiSW5hY3RpdmUgY29udGFpbmVyICR7Q09OVEFJTkVSfSBoYXMgbGluZ2VyaW5nIGV4ZWMgc2Vzc2lvbnMuIEZvcmNlLXJlbW92ZSBpdC4iCgkJCW9jZl9ydW4gcG9kbWFuIHJtIC1mICRDT05UQUlORVIKCQkJcmM9JD8KCQlmaQoJZmkKCXJldHVybiAkcmMKfQoKYXR0cmlidXRlX25vZGVfaXAoKQp7Cglsb2NhbCBhY3Rpb249IiQxIgoJbG9jYWwgYXR0cmlidXRlPSJub2RlX2lwIgoJbG9jYWwgdmFsdWUKCglpZiAhIHZhbHVlPSQoaXAgLWJyaWVmIGFkZHIgc2hvdyAiJE9DRl9SRVNLRVlfbmljIiB8IGF3ayAne2dzdWIoIi8uKiIsICIiLCAkMyk7IHByaW50ICQzfScpOyB0aGVuCgkJcmM9JD8KCQlvY2ZfbG9nIGVycm9yICJjb3VsZCBub3QgZ2V0IG5vZGUgaXA6IGVycm9yICRyYyIKCQlyZXR1cm4gIiRyYyIKCWZpCgoJY2FzZSAiJGFjdGlvbiIgaW4KCQlnZXQpCgkJCWVjaG8gIiR2YWx1ZSIKCQkJOzsKCQl1cGRhdGUpCgkJCWlmICEgY3JtX2F0dHJpYnV0ZSAtLXR5cGUgbm9kZXMgLS1ub2RlICIkTk9ERU5BTUUiIC0tbmFtZSAiJGF0dHJpYnV0ZSIgLS11cGRhdGUgIiR2YWx1ZSI7IHRoZW4KCQkJCXJjPSIkPyIKCQkJCW9jZl9sb2cgZXJyb3IgImNvdWxkIG5vdCBzZXQgJGF0dHJpYnV0ZSB0byAkdmFsdWU6IGVycm9yICRyYyIKCQkJCXJldHVybiAiJHJjIgoJCQlmaQoJCQk7OwoJCWNsZWFyKQoJCQljcm1fYXR0cmlidXRlIC0tbmFtZSAiJGF0dHJpYnV0ZSIgLS1kZWxldGUKCQkJOzsKCQkqKQoJCQlvY2ZfbG9nIGVycm9yICJ1bnN1cHBvcnRlZCAkYWN0aW9uIGZvciAkYXR0cmlidXRlIgoJCQlyZXR1cm4gJE9DRl9FUlJfR0VORVJJQwoJCQk7OwoJZXNhYwp9CgpnZXRfbm9kZV9pcCgpIHsKCWlwIC1icmllZiBhZGRyIHNob3cgIiRPQ0ZfUkVTS0VZX25pYyIgfCBhd2sgJ3tnc3ViKCIvLioiLCAiIiwgJDMpOyBwcmludCAkM30nCn0KCmdldF9lbnZfZnJvbV9tYW5pZmVzdCgpIHsKCWxvY2FsIGVudl92YXJfbmFtZT0iJDEiCglsb2NhbCBlbnZfdmFyX3ZhbHVlCgoJaWYgWyAhIC1mICIkT0NGX1JFU0tFWV9wb2RfbWFuaWZlc3QiIF07IHRoZW4KCQlvY2ZfbG9nIGVycm9yICJleHRlcm5hbCBldGNkIHBvZCBtYW5pZmVzdCAoJE9DRl9SRVNLRVlfcG9kX21hbmlmZXN0KSBub3QgZm91bmQiCgkJcmV0dXJuICIkT0NGX0VSUl9HRU5FUklDIgoJZmkKCglpZiAhIGVudl92YXJfdmFsdWU9JChqcSAtciAiLnNwZWMuY29udGFpbmVyc1tdLmVudltdIHwgc2VsZWN0KCAubmFtZSA9PSBcIiRlbnZfdmFyX25hbWVcIiApLnZhbHVlIiAiJE9DRl9SRVNLRVlfcG9kX21hbmlmZXN0Iik7IHRoZW4KCQlyZXR1cm4gIiQ/IgoJZmkKCglvY2ZfbG9nIGRlYnVnICJFVENEIHBvZCBlbnZpcm9ubWVudCB2YXJpYWJsZSAkZW52X3Zhcl9uYW1lOiAkZW52X3Zhcl92YWx1ZSIKCgllY2hvICIkZW52X3Zhcl92YWx1ZSIKfQoKcHJlcGFyZV9lbnYoKSB7Cglsb2NhbCBuYW1lIGlwIHN0YW5kYWxvbmVfbm9kZQoKCU5PREVJUD0iJChhdHRyaWJ1dGVfbm9kZV9pcCBnZXQpIgoKCWlmIGlzX2ZvcmNlX25ld19jbHVzdGVyOyB0aGVuCgkJQUxMX0VUQ0RfRU5EUE9JTlRTPSJodHRwczovLyROT0RFSVA6MjM3OSIKCQlFVENEX0lOSVRJQUxfQ0xVU1RFUl9TVEFURT0ibmV3IgoJCUVUQ0RfSU5JVElBTF9DTFVTVEVSPSIkTk9ERU5BTUU9aHR0cHM6Ly8kTk9ERUlQOjIzODAiCgllbHNlCgkJRVRDRF9JTklUSUFMX0NMVVNURVJfU1RBVEU9ImV4aXN0aW5nIgoJCWZvciBub2RlIGluICQoZWNobyAiJE9DRl9SRVNLRVlfbm9kZV9pcF9tYXAiIHwgc2VkICJzL1xzLy9nO3MvOy8gL2ciKTsgZG8KCQkJbmFtZT0kKGVjaG8gIiRub2RlIiB8IGF3ayAtRiI6IiAne3ByaW50ICQxfScpCgkJCWlwPSQoZWNobyAiJG5vZGUiIHwgYXdrIC1GIjoiICd7cHJpbnQgJDJ9JykKCQkJaWYgWyAteiAiJG5hbWUiIF0gfHwgWyAteiAiJGlwIiBdOyB0aGVuCgkJCQlvY2ZfZXhpdF9yZWFzb24gIm5hbWUgb3IgaXAgbWlzc2luZyBmb3IgMSBvciBtb3JlIG5vZGVzIgoJCQkJZXhpdCAkT0NGX0VSUl9DT05GSUdVUkVECgkJCWZpCgoJCQlbIC16ICIkQUxMX0VUQ0RfRU5EUE9JTlRTIiBdICYmIEFMTF9FVENEX0VORFBPSU5UUz0iaHR0cHM6Ly8kaXA6MjM3OSIgfHwgQUxMX0VUQ0RfRU5EUE9JTlRTPSIkQUxMX0VUQ0RfRU5EUE9JTlRTLGh0dHBzOi8vJGlwOjIzNzkiCgkJCVsgLXogIiRFVENEX0lOSVRJQUxfQ0xVU1RFUiIgXSAmJiBFVENEX0lOSVRJQUxfQ0xVU1RFUj0iJG5hbWU9aHR0cHM6Ly8kaXA6MjM4MCIgfHwgRVRDRF9JTklUSUFMX0NMVVNURVI9IiRFVENEX0lOSVRJQUxfQ0xVU1RFUiwkbmFtZT1odHRwczovLyRpcDoyMzgwIgoJCWRvbmUKCWZpCgoJRVRDRENUTF9BUEk9JChnZXRfZW52X2Zyb21fbWFuaWZlc3QgIkVUQ0RDVExfQVBJIikKCUVUQ0RfQ0lQSEVSX1NVSVRFUz0kKGdldF9lbnZfZnJvbV9tYW5pZmVzdCAiRVRDRF9DSVBIRVJfU1VJVEVTIikKCUVUQ0RfREFUQV9ESVI9JChnZXRfZW52X2Zyb21fbWFuaWZlc3QgIkVUQ0RfREFUQV9ESVIiKQoJRVRDRF9FTEVDVElPTl9USU1FT1VUPSQoZ2V0X2Vudl9mcm9tX21hbmlmZXN0ICJFVENEX0VMRUNUSU9OX1RJTUVPVVQiKQoJRVRDRF9FTkFCTEVfUFBST0Y9JChnZXRfZW52X2Zyb21fbWFuaWZlc3QgIkVUQ0RfRU5BQkxFX1BQUk9GIikKCUVUQ0RfRVhQRVJJTUVOVEFMX01BWF9MRUFSTkVSUz0kKGdldF9lbnZfZnJvbV9tYW5pZmVzdCAiRVRDRF9FWFBFUklNRU5UQUxfTUFYX0xFQVJORVJTIikKCUVUQ0RfRVhQRVJJTUVOVEFMX1dBUk5JTkdfQVBQTFlfRFVSQVRJT049JChnZXRfZW52X2Zyb21fbWFuaWZlc3QgIkVUQ0RfRVhQRVJJTUVOVEFMX1dBUk5JTkdfQVBQTFlfRFVSQVRJT04iKQoJRVRDRF9FWFBFUklNRU5UQUxfV0FUQ0hfUFJPR1JFU1NfTk9USUZZX0lOVEVSVkFMPSQoZ2V0X2Vudl9mcm9tX21hbmlmZXN0ICJFVENEX0VYUEVSSU1FTlRBTF9XQVRDSF9QUk9HUkVTU19OT1RJRllfSU5URVJWQUwiKQoJRVRDRF9IRUFSVEJFQVRfSU5URVJWQUw9JChnZXRfZW52X2Zyb21fbWFuaWZlc3QgIkVUQ0RfSEVBUlRCRUFUX0lOVEVSVkFMIikKCUVUQ0RfUVVPVEFfQkFDS0VORF9CWVRFUz0kKGdldF9lbnZfZnJvbV9tYW5pZmVzdCAiRVRDRF9RVU9UQV9CQUNLRU5EX0JZVEVTIikKCUVUQ0RfU09DS0VUX1JFVVNFX0FERFJFU1M9JChnZXRfZW52X2Zyb21fbWFuaWZlc3QgIkVUQ0RfU09DS0VUX1JFVVNFX0FERFJFU1MiKQoKCVNFUlZFUl9DQUNFUlQ9JChnZXRfZW52X2Zyb21fbWFuaWZlc3QgIkVUQ0RDVExfQ0FDRVJUIikKCUVUQ0RfUEVFUl9DRVJUPSQoZ2V0X2Vudl9mcm9tX21hbmlmZXN0ICJFVENEQ1RMX0NFUlQiKQoJRVRDRF9QRUVSX0tFWT0kKGdldF9lbnZfZnJvbV9tYW5pZmVzdCAiRVRDRENUTF9LRVkiKQoKCWlmIGlzX2xlYXJuZXI7IHRoZW4KCQlMSVNURU5fQ0xJRU5UX1VSTFM9IiROT0RFSVAiCgkJTElTVEVOX1BFRVJfVVJMUz0iJE5PREVJUCIKCQlMSVNURU5fTUVUUklDU19VUkxTPSIkTk9ERUlQIgoJZWxzZQoJCUxJU1RFTl9DTElFTlRfVVJMUz0iMC4wLjAuMCIKCQlMSVNURU5fUEVFUl9VUkxTPSIwLjAuMC4wIgoJCUxJU1RFTl9NRVRSSUNTX1VSTFM9IjAuMC4wLjAiCglmaQp9CgphcmNoaXZlX2RhdGFfZm9sZGVyKCkKewoJIyBUT0RPOiB1c2UgZXRjZCBzbmFwc2hvdHMKCWxvY2FsIGRlc3RfZGlyX25hbWU9Im1lbWJlcnMtc25hcHNob3QtJChkYXRlICslWSVNJWQlSCVNJVMpIgoJbG9jYWwgZGF0YV9kaXI9Ii92YXIvbGliL2V0Y2QvbWVtYmVyIgoJaWYgWyAhIC1kICRkYXRhX2RpciBdOyB0aGVuCgkJb2NmX2xvZyBpbmZvICJubyBkYXRhIGRpciB0byBiYWNrdXAiCgkJcmV0dXJuICRPQ0ZfU1VDQ0VTUwoJZmkKCW9jZl9sb2cgaW5mbyAiYmFja2luZyB1cCAkZGF0YV9kaXIgdW5kZXIgJEhBX1JTQ1RNUC8kZGVzdF9kaXJfbmFtZSIKCW12ICRkYXRhX2RpciAkSEFfUlNDVE1QLyRkZXN0X2Rpcl9uYW1lCglzeW5jCn0KCmV0Y2RfcG9kX2NvbnRhaW5lcl9leGlzdHMoKSB7Cglsb2NhbCBjb3VudF9tYXRjaGVzCgkjIENoZWNrIHdoZXRoZXIgdGhlIGV0Y2QgcG9kIGV4aXN0cyBvbiB0aGUgc2FtZSBub2RlIChoZWFkZXIgbGluZSBpbmNsdWRlZCkKCWNvdW50X21hdGNoZXM9JChjcmljdGwgcG9kcyAtLWxhYmVsIGFwcD1ldGNkIC1xIHwgeGFyZ3MgLUkge30gY3JpY3RsIHBzIC0tcG9kIHt9IC1vIGpzb24gfCBqcSAtciAnLmNvbnRhaW5lcnNbXS5tZXRhZGF0YSB8IHNlbGVjdCAoIC5uYW1lID09ICJldGNkIiApLm5hbWUnIHwgd2MgLWwpCglpZiBbICIkY291bnRfbWF0Y2hlcyIgLWVxIDEgXTsgdGhlbgoJCSMgZXRjZCBwb2QgZm91bmQKCQlyZXR1cm4gMAoJZmkKCSMgZXRjZCBwb2Qgbm90IGZvdW5kCglyZXR1cm4gMQp9CgphdHRyaWJ1dGVfbm9kZV9jbHVzdGVyX2lkKCkKewoJbG9jYWwgYWN0aW9uPSIkMSIKCWxvY2FsIHZhbHVlCglpZiAhIHZhbHVlPSQoanEgLXIgIi5jbHVzdGVySWQiIC92YXIvbGliL2V0Y2QvcmV2aXNpb24uanNvbik7IHRoZW4KCQlyYz0kPwoJCW9jZl9sb2cgZXJyb3IgImNvdWxkIG5vdCBnZXQgY2x1c3Rlci1pZDogJHJjIgoJCXJldHVybiAiJHJjIgoJZmkKCgljYXNlICIkYWN0aW9uIiBpbgoJCWdldCkKCQkJZWNobyAiJHZhbHVlIgoJCQk7OwoJCXVwZGF0ZSkKCQkJb2NmX2xvZyBpbmZvICIkTk9ERU5BTUU6IHVwZGF0ZSBjbHVzdGVyLWlkOiAkdmFsdWUiCgkJCWlmICEgY3JtX2F0dHJpYnV0ZSAtLXR5cGUgbm9kZXMgLS1ub2RlICIkTk9ERU5BTUUiIC0tbmFtZSAiY2x1c3Rlcl9pZCIgLS11cGRhdGUgIiR2YWx1ZSI7IHRoZW4KCQkJCXJjPSQ/CgkJCQlvY2ZfbG9nIGVyciAiY291bGQgbm90IHVwZGF0ZSBjbHVzdGVyLWlkOiBlcnJvciBjb2RlICRyYyIKCQkJCXJldHVybiAiJHJjIgoJCQlmaQoJCQk7OwoJCSopCgkJCW9jZl9sb2cgZXJyb3IgInVuc3VwcG9ydGVkICRhY3Rpb24gZm9yIGF0dHJpYnV0ZV9ub2RlX2NsdXN0ZXJfaWQiCgkJCXJldHVybiAkT0NGX0VSUl9HRU5FUklDCgkJCTs7Cgllc2FjCn0KCmF0dHJpYnV0ZV9ub2RlX2NsdXN0ZXJfaWRfcGVlcigpCnsKCWxvY2FsIG5vZGVuYW1lPSQoZ2V0X3BlZXJfbm9kZV9uYW1lKQoJY3JtX2F0dHJpYnV0ZSAtLXF1ZXJ5IC0tdHlwZSBub2RlcyAtLW5vZGUgIiRub2RlbmFtZSIgLS1uYW1lICJjbHVzdGVyX2lkIiB8IGF3ayAtRiJ2YWx1ZT0iICd7cHJpbnQgJDJ9Jwp9CgphdHRyaWJ1dGVfbm9kZV9yZXZpc2lvbigpCnsKCSMgVE9ETzogY2hhbmdlIGxvZyBsZXZlbHMgdG8gZGVidWcKCWxvY2FsIGFjdGlvbj0iJDEiCglsb2NhbCB2YWx1ZQoJaWYgISB2YWx1ZT0kKGpxIC1yICIubWF4UmFmdEluZGV4IiAvdmFyL2xpYi9ldGNkL3JldmlzaW9uLmpzb24pOyB0aGVuCgkJcmM9JD8KCQlvY2ZfbG9nIGVycm9yICJjb3VsZCBub3QgZ2V0IHJldmlzaW9uOiAkcmMiCgkJcmV0dXJuICIkcmMiCglmaQoKCWNhc2UgIiRhY3Rpb24iIGluCgkJZ2V0KQoJCQllY2hvICIkdmFsdWUiCgkJCTs7CgkJdXBkYXRlKQoJCQlvY2ZfbG9nIGluZm8gIiROT0RFTkFNRTogdXBkYXRlIHJldmlzaW9uOiAkdmFsdWUiCgkJCWlmICEgY3JtX2F0dHJpYnV0ZSAtLXR5cGUgbm9kZXMgLS1ub2RlICIkTk9ERU5BTUUiIC0tbmFtZSAicmV2aXNpb24iIC0tdXBkYXRlICIkdmFsdWUiOyB0aGVuCgkJCQlyYz0kPwoJCQkJb2NmX2xvZyBlcnIgImNvdWxkIG5vdCB1cGRhdGUgZXRjZCByZXZpc2lvbjogZXJyb3IgY29kZSAkcmMiCgkJCQlyZXR1cm4gIiRyYyIKCQkJZmkKCQkJOzsKCQkqKQoJCQlvY2ZfbG9nIGVycm9yICJ1bnN1cHBvcnRlZCAkYWN0aW9uIGZvciBhdHRyaWJ1dGVfbm9kZV9yZXZpc2lvbiIKCQkJcmV0dXJuICRPQ0ZfRVJSX0dFTkVSSUMKCQkJOzsKCWVzYWMKfQoKYXR0cmlidXRlX25vZGVfcmV2aXNpb25fcGVlcigpCnsKCWxvY2FsIG5vZGVuYW1lPSQoZ2V0X3BlZXJfbm9kZV9uYW1lKQoJY3JtX2F0dHJpYnV0ZSAtLXF1ZXJ5IC0tdHlwZSBub2RlcyAtLW5vZGUgIiRub2RlbmFtZSIgLS1uYW1lICJyZXZpc2lvbiIgfCBhd2sgLUYidmFsdWU9IiAne3ByaW50ICQyfScKfQoKY2FjaGVfbWVtYmVyX2lkKCkKewoJaWYgISBjb250YWluZXJfZXhpc3RzOyB0aGVuCgkJIyB3ZSBuZWVkIGEgcnVubmluZyBjb250YWluZXIgdG8gZXhlY3V0ZSBldGNkY3RsLgoJCXJldHVybiAwCglmaQoKCSMgVE9ETzogdXNlIGdldF9tZW1iZXJfbGlzdF9qc29uIGluc3RlYWQKCWVuZHBvaW50PSJodHRwczovLyQoYXR0cmlidXRlX25vZGVfaXAgZ2V0KToyMzc5IgoJSURfREVDPSQocG9kbWFuIGV4ZWMgJHtDT05UQUlORVJ9IGV0Y2RjdGwgbWVtYmVyIGxpc3QgLS1lbmRwb2ludHM9JGVuZHBvaW50IC13IGpzb24gfCBqcSAtciAuaGVhZGVyLm1lbWJlcl9pZCkKCXJjPSQ/CglpZiBbICRyYyAtbmUgMCBdOyB0aGVuCgkJb2NmX2xvZyBlcnJvciAiY291bGQgbm90IGdldCBtZW1iZXIgSUQ6IGVycm9yIGNvZGUgJD8iCgkJcmV0dXJuICRyYwoJZmkKCWlmIFsgLXogIiRJRF9ERUMiIF07IHRoZW4KCQkjIHRoZSBjb250YWluZXIgaXMgcnVubmluZywgYnV0IHRoZSBpbnN0YW5jZSBkb2VzIG5vdCBoYXZlIGl0cyBtZW1iZXIgSUQgeWV0LgoJCXJldHVybiAwCglmaQoKCSMgZXRjZGN0bCBtZW1iZXIgY29tbWFuZHMgbmVlZCB0aGUgSEVYIGZvcm1hdCBvZiB0aGUgbWVtYmVyIElELgoJSURfSEVYPSQocHJpbnRmICIleCIgJElEX0RFQykKCWNybV9hdHRyaWJ1dGUgLS10eXBlIG5vZGVzIC0tbm9kZSAiJE5PREVOQU1FIiAtLW5hbWUgIm1lbWJlcl9pZCIgLS11cGRhdGUgIiRJRF9IRVgiCglyYz0kPwoJaWYgWyAkcmMgLW5lIDAgXTsgdGhlbgoJCW9jZl9sb2cgZXJyb3IgImNvdWxkIG5vdCBjYWNoZSBtZW1iZXIgSUQ6IGVycm9yIGNvZGUgJHJjIgoJZmkKCXJldHVybiAkcmMKfQoKY2xlYXJfbWVtYmVyX2lkKCkKewoJY3JtX2F0dHJpYnV0ZSAtLXR5cGUgbm9kZXMgLS1ub2RlICROT0RFTkFNRSAtLW5hbWUgIm1lbWJlcl9pZCIgLS1kZWxldGUKfQoKZ2V0X2NhY2hlZF9tZW1iZXJfaWQoKQp7CglvY2ZfbG9nIGRlYnVnICJnZXQgbWVtYmVyIElEIGZyb20gaW4gbm9kZTogJE5PREVOQU1FIgoJY3JtX2F0dHJpYnV0ZSAtLXF1ZXJ5IC0tdHlwZSBub2RlcyAtLW5vZGUgJE5PREVOQU1FIC0tbmFtZSAibWVtYmVyX2lkIiB8IGF3ayAtRiJ2YWx1ZT0iICd7cHJpbnQgJDJ9Jwp9CgphZGRfbWVtYmVyX2FzX2xlYXJuZXIoKQp7Cglsb2NhbCByYwoJbG9jYWwgbWVtYmVyX25hbWU9JDEKCWxvY2FsIG1lbWJlcl9pcD0kMgoKCW9jZl9sb2cgaW5mbyAiYWRkICRtZW1iZXJfbmFtZSAoJG1lbWJlcl9pcCkgdG8gdGhlIG1lbWJlciBsaXN0IGFzIGxlYXJuZXIiCglvdXQ9JChwb2RtYW4gZXhlYyAke0NPTlRBSU5FUn0gZXRjZGN0bCAtLWVuZHBvaW50cz0iaHR0cHM6Ly8kKGF0dHJpYnV0ZV9ub2RlX2lwIGdldCk6MjM3OSIgbWVtYmVyIGFkZCAkbWVtYmVyX25hbWUgLS1wZWVyLXVybHM9aHR0cHM6Ly8kbWVtYmVyX2lwOjIzODAgLS1sZWFybmVyKQoJcmM9JD8KCWlmIFsgJHJjIC1uZSAwIF07IHRoZW4KCQlvY2ZfbG9nIGVycm9yICJjb3VsZCBub3QgYWRkICRtZW1iZXJfbmFtZSBhcyBsZWFybmVyOiBlcnJvciBjb2RlICRyYyIKCQlyZXR1cm4gJHJjCglmaQoJb2NmX2xvZyBpbmZvICIkb3V0IgoKCWF0dHJpYnV0ZV9sZWFybmVyX25vZGUgdXBkYXRlICIkbWVtYmVyX25hbWUiCglyZXR1cm4gJD8KfQoKc2V0X2ZvcmNlX25ld19jbHVzdGVyKCkKewoJbG9jYWwgcmMKCWNybV9hdHRyaWJ1dGUgLS1saWZldGltZSByZWJvb3QgLS1ub2RlICIkTk9ERU5BTUUiIC0tbmFtZSAiZm9yY2VfbmV3X2NsdXN0ZXIiIC0tdXBkYXRlICIkTk9ERU5BTUUiCglyYz0kPwoJaWYgWyAkcmMgLW5lIDAgXTsgdGhlbgoJCW9jZl9sb2cgZXJyb3IgImNvdWxkIG5vdCBzZXQgZm9yY2VfbmV3X2NsdXN0ZXIgYXR0cmlidXRlIHRvICROT0RFTkFNRSIKCWZpCglyZXR1cm4gJHJjCn0KCmdldF9mb3JjZV9uZXdfY2x1c3RlcigpCnsKCWNybV9hdHRyaWJ1dGUgLS1saWZldGltZSByZWJvb3QgLS1xdWVyeSAtLW5hbWUgImZvcmNlX25ld19jbHVzdGVyIiB8IGF3ayAtRiJ2YWx1ZT0iICd7cHJpbnQgJDJ9Jwp9CgpjbGVhcl9mb3JjZV9uZXdfY2x1c3RlcigpCnsKCWxvY2FsIGZvcmNlX25ld19jbHVzdGVyX25vZGU9JChnZXRfZm9yY2VfbmV3X2NsdXN0ZXIpCglpZiBbIC16ICIkZm9yY2VfbmV3X2NsdXN0ZXJfbm9kZSIgXTsgdGhlbgoJCW9jZl9sb2cgaW5mbyAiJE5PREVOQU1FOiBmb3JjZV9uZXdfY2x1c3RlciBhdHRyaWJ1dGUgbm90IHNldCIKCQlyZXR1cm4gJE9DRl9TVUNDRVNTCglmaQoKCSMgb25seSB0aGUgaG9sZGVyIG9mICJmb3JjZV9uZXdfY2x1c3RlciIgYXR0cmlidXRlIGNhbiBkZWxldGUgaXQKCWlmIFsgIiROT0RFTkFNRSIgPSAiJGZvcmNlX25ld19jbHVzdGVyX25vZGUiIF07IHRoZW4KCQljcm1fYXR0cmlidXRlIC0tbGlmZXRpbWUgcmVib290IC0tbmFtZSAiZm9yY2VfbmV3X2NsdXN0ZXIiIC0tZGVsZXRlCgkJcmM9JD8KCQlpZiBbICRyYyAtbmUgMCBdOyB0aGVuCgkJCW9jZl9sb2cgZXJyb3IgImNvdWxkIG5vdCBjbGVhciBmb3JjZV9uZXdfY2x1c3RlciBhdHRyaWJ1dGU6IGVycm9yICRyYyIKCQllbHNlCgkJCW9jZl9sb2cgaW5mbyAiJE5PREVOQU1FOiBmb3JjZV9uZXdfY2x1c3RlciBhdHRyaWJ1dGUgY2xlYXJlZCIKCQlmaQoJCXJldHVybiAkcmMKCWVsc2UKCQlvY2ZfbG9nIGluZm8gIiROT0RFTkFNRSBkb2VzIG5vdCBob2xkIGZvcmNlX25ld19jbHVzdGVyICgkZm9yY2VfbmV3X2NsdXN0ZXJfbm9kZSBoYXMgaXQpIgoJCXJldHVybiAkT0NGX1NVQ0NFU1MKCWZpCn0KCmlzX2ZvcmNlX25ld19jbHVzdGVyKCkKewoJIyBSZXR1cm4gMCBpZiAnZm9yY2VfbmV3X2NsdXN0ZXInIGlzIHNldCBhbmQgdGhlIHZhbHVlIG1hdGNoZXMgdGhlIGN1cnJlbnQgbm9kZSBuYW1lLCAxIG90aGVyd2lzZS4KCWxvY2FsIHZhbHVlPSQoZ2V0X2ZvcmNlX25ld19jbHVzdGVyKQoJaWYgWyAteiAiJHZhbHVlIiBdOyB0aGVuCgkJb2NmX2xvZyBkZWJ1ZyAiZm9yY2VfbmV3X2NsdXN0ZXIgYXR0cmlidXRlIGlzIG5vdCBzZXQiCgkJcmV0dXJuIDEKCWZpCgoJaWYgWyAiJHZhbHVlIiA9ICIkTk9ERU5BTUUiIF07IHRoZW4KCQlvY2ZfbG9nIGRlYnVnICIkTk9ERU5BTUUgaGFzIGZvcmNlX25ld19jbHVzdGVyIHNldCIKCQlyZXR1cm4gMAoJZmkKCglvY2ZfbG9nIGluZm8gImZvcmNlX25ld19jbHVzdGVyIGF0dHJpYnV0ZSBzZXQgb24gcGVlciBub2RlICR2YWx1ZSIKCXJldHVybiAxCn0KCmlzX3N0YW5kYWxvbmUoKQp7Cglsb2NhbCBub2RlbmFtZT0kezE6LSROT0RFTkFNRX0KCWxvY2FsIHN0YW5kYWxvbmVfbm9kZT0kKGdldF9zdGFuZGFsb25lX25vZGUpCglpZiBbIC16ICIkc3RhbmRhbG9uZV9ub2RlIiBdOyB0aGVuCgkJb2NmX2xvZyBkZWJ1ZyAibm8gbm9kZSBydW5uaW5nIHN0YW5kYWxvbmUiCgkJcmV0dXJuIDEKCWZpCgoJaWYgWyAiJG5vZGVuYW1lIiA9ICIkc3RhbmRhbG9uZV9ub2RlIiBdOyB0aGVuCgkJb2NmX2xvZyBkZWJ1ZyAiJG5vZGVuYW1lIGlzIHNldCBhcyBzdGFuZGFsb25lIgoJCXJldHVybiAwCglmaQoJb2NmX2xvZyBkZWJ1ZyAiJG5vZGVuYW1lIGlzIHNldCBhcyBsZWFybmVyIgoJcmV0dXJuIDEKCn0KCnNldF9zdGFuZGFsb25lX25vZGUoKQp7Cglsb2NhbCByYwoKCW9jZl9sb2cgaW5mbyAiYWRkICROT0RFTkFNRSBhcyBzdGFuZGFsb25lIgoJY3JtX2F0dHJpYnV0ZSAtLW5hbWUgInN0YW5kYWxvbmVfbm9kZSIgLS11cGRhdGUgJE5PREVOQU1FCglyYz0kPwoJaWYgWyAkcmMgLW5lIDAgXTsgdGhlbgoJCW9jZl9sb2cgZXJyb3IgImNvdWxkIG5vdCBzZXQgc3RhbmRhbG9uZV9ub2RlIGF0dHJpYnV0ZSB0byAkTk9ERU5BTUUiCglmaQoJcmV0dXJuICRyYwp9CgpnZXRfc3RhbmRhbG9uZV9ub2RlKCkKewoJY3JtX2F0dHJpYnV0ZSAtLXF1ZXJ5IC0tbmFtZSAic3RhbmRhbG9uZV9ub2RlIiB8IGF3ayAtRiJ2YWx1ZT0iICd7cHJpbnQgJDJ9Jwp9CgpjbGVhcl9zdGFuZGFsb25lX25vZGUoKQp7Cgljcm1fYXR0cmlidXRlIC0tbmFtZSAic3RhbmRhbG9uZV9ub2RlIiAtLWRlbGV0ZQp9CgpjbGVhcl9zdGFuZGFsb25lX2FuZF9sZWFybmVyX2lmX25vdF9sZWFybmVycygpCnsKCWxvY2FsIHJjCglsb2NhbCBtZW1iZXJfbGlzdF9qc29uPSIkMSIKCgludW1iZXJfb2ZfbWVtYmVycz0kKGVjaG8gLW4gJG1lbWJlcl9saXN0X2pzb24gfCBqcSAtciAiLm1lbWJlcnNbXS5JRCIgfCB3YyAtbCkKCWlmIFsgJG51bWJlcl9vZl9tZW1iZXJzIC1uZSAyIF07IHRoZW4KCQlvY2ZfbG9nIGluZm8gImNvdWxkIG5vdCBjbGVhciBzdGFuZGFsb25lX25vZGUsIG5vciBsZWFybmVyX25vZGUgcHJvcGVydGllczogZm91bmQgJG51bWJlcl9vZl9tZW1iZXJzIG1lbWJlcnMsIG5lZWQgMiIKCQlyZXR1cm4gJE9DRl9TVUNDRVNTCglmaQoKCWlkPSQoZWNobyAtbiAkbWVtYmVyX2xpc3RfanNvbiB8IGpxIC1yICIubWVtYmVyc1tdIHwgc2VsZWN0KCAuaXNMZWFybmVyPT10cnVlICkuSUQiKQoJcmM9JD8KCWlmIFsgJHJjIC1uZSAwIF07IHRoZW4KCQlvY2ZfbG9nIGVycm9yICJjb3VsZCBub3QgZ2V0IGlzTGVhcm5lciBmaWVsZCBmcm9tIG1lbWJlciBsaXN0OiBlcnJvciBjb2RlICRyYyIKCQlyZXR1cm4gJHJjCglmaQoKCWlmIFsgLXogIiRpZCIgXTsgdGhlbgoJCWNsZWFyX3N0YW5kYWxvbmVfbm9kZQoJCXJjPSQ/CgkJaWYgWyAkcmMgLW5lIDAgXTsgdGhlbgoJCQlvY2Zfb2cgZXJyb3IgImNvdWxkIG5vdCBjbGVhciBzdGFuZGFsb25lX25vZGUgYXR0cmlidXRlOiBlcnJvciBjb2RlICRyYyIKCQkJcmV0dXJuICRyYwoJCWZpCglmaQoJaWYgWyAteiAiJGlkIiBdOyB0aGVuCgkJYXR0cmlidXRlX2xlYXJuZXJfbm9kZSBjbGVhcgoJCXJjPSQ/CgkJaWYgWyAkcmMgLW5lIDAgXTsgdGhlbgoJCQlvY2Zfb2cgZXJyb3IgImNvdWxkIG5vdCBjbGVhciBsZWFybmVyX25vZGUgYXR0cmlidXRlOiBlcnJvciBjb2RlICRyYyIKCQkJcmV0dXJuICRyYwoJCWZpCglmaQoKCXJldHVybiAkcmMKfQoKYXR0cmlidXRlX2xlYXJuZXJfbm9kZSgpCnsKCWxvY2FsIGFjdGlvbj0iJDEiCglsb2NhbCB2YWx1ZT0iJDIiCglsb2NhbCBhdHRyaWJ1dGU9ImxlYXJuZXJfbm9kZSIKCgljYXNlICIkYWN0aW9uIiBpbgoJCWdldCkKCQkJY3JtX2F0dHJpYnV0ZSAtLXF1ZXJ5IC0tbmFtZSAiJGF0dHJpYnV0ZSIgfCBhd2sgLUYidmFsdWU9IiAne3ByaW50ICQyfScKCQkJOzsKCQl1cGRhdGUpCgkJCWlmICEgY3JtX2F0dHJpYnV0ZSAtLW5hbWUgIiRhdHRyaWJ1dGUiIC0tdXBkYXRlICIkdmFsdWUiOyB0aGVuCgkJCQlyYz0iJD8iCgkJCQlvY2ZfbG9nIGVycm9yICJjb3VsZCBub3Qgc2V0ICRhdHRyaWJ1dGUgdG8gJHZhbHVlOiBlcnJvciAkcmMiCgkJCQlyZXR1cm4gIiRyYyIKCQkJZmkKCQkJOzsKCQljbGVhcikKCQkJY3JtX2F0dHJpYnV0ZSAtLW5hbWUgIiRhdHRyaWJ1dGUiIC0tZGVsZXRlCgkJCTs7CgkJKikKCQkJb2NmX2xvZyBlcnJvciAidW5zdXBwb3J0ZWQgJGFjdGlvbiBmb3IgJGF0dHJpYnV0ZSIKCQkJcmV0dXJuICRPQ0ZfRVJSX0dFTkVSSUMKCQkJOzsKCWVzYWMKfQoKaXNfbGVhcm5lcigpCnsKCWlmIFsgIiROT0RFTkFNRSIgPT0gIiQoYXR0cmlidXRlX2xlYXJuZXJfbm9kZSBnZXQpIiBdOyB0aGVuCgkJcmV0dXJuIDAKCWZpCglyZXR1cm4gMQp9CgpnZXRfcGVlcl9ub2RlX25hbWUoKSB7Cgljcm1fbm9kZSAtbCB8IGF3ayAne3ByaW50ICQyfScgfCBncmVwIC12ICROT0RFTkFNRQp9CgpnZXRfcGVlcl9ub2RlX2lwKCkgewoJbG9jYWwgcGVlcl9uYW1lPSQoZ2V0X3BlZXJfbm9kZV9uYW1lKQoJY3JtX2F0dHJpYnV0ZSAtLXF1ZXJ5IC0tbmFtZSAibm9kZV9pcCIgLS1ub2RlICIkcGVlcl9uYW1lIiB8IGF3ayAtRiJ2YWx1ZT0iICd7cHJpbnQgJDJ9Jwp9CgpnZXRfYWxsX2V0Y2RfZW5kcG9pbnRzKCkgewoJZm9yIG5vZGUgaW4gJChlY2hvICIkT0NGX1JFU0tFWV9ub2RlX2lwX21hcCIgfCBzZWQgInMvXHMvL2c7cy87LyAvZyIpOyBkbwoJCW5hbWU9JChlY2hvICIkbm9kZSIgfCBhd2sgLUYiOiIgJ3twcmludCAkMX0nKQoJCWlwPSQoZWNobyAiJG5vZGUiIHwgYXdrIC1GIjoiICd7cHJpbnQgJDJ9JykKCQlpZiBbIC16ICIkbmFtZSIgXSB8fCBbIC16ICIkaXAiIF07IHRoZW4KCQkJb2NmX2V4aXRfcmVhc29uICJuYW1lIG9yIGlwIG1pc3NpbmcgZm9yIDEgb3IgbW9yZSBub2RlcyIKCQkJZXhpdCAkT0NGX0VSUl9DT05GSUdVUkVECgkJZmkKCgkJWyAteiAiJEFMTF9FVENEX0VORFBPSU5UUyIgXSAmJiBBTExfRVRDRF9FTkRQT0lOVFM9Imh0dHBzOi8vJGlwOjIzNzkiIHx8IEFMTF9FVENEX0VORFBPSU5UUz0iJEFMTF9FVENEX0VORFBPSU5UUyxodHRwczovLyRpcDoyMzc5IgoJZG9uZQoJZWNobyAkQUxMX0VUQ0RfRU5EUE9JTlRTCn0KCmdldF9lbmRwb2ludF9zdGF0dXNfanNvbigpCnsKCSMgR2V0IHRoZSBzdGF0dXMgb2YgYWxsIGVuZHBvaW50cwoJbG9jYWwgYWxsX2V0Y2RfZW5kcG9pbnRzPSQoZ2V0X2FsbF9ldGNkX2VuZHBvaW50cykKCXBvZG1hbiBleGVjICR7Q09OVEFJTkVSfSBldGNkY3RsIGVuZHBvaW50IHN0YXR1cyAtLWVuZHBvaW50cz0kYWxsX2V0Y2RfZW5kcG9pbnRzIC13IGpzb24KfQoKZ2V0X21lbWJlcl9saXN0X2pzb24oKSB7CgkjIEdldCB0aGUgbGlzdCBvZiBtZW1iZXJzIHZpc2libGUgdG8gdGhlIGN1cnJlbnQgbm9kZQoJbG9jYWwgdGhpc19ub2RlX2VuZHBvaW50PSJodHRwczovLyQoYXR0cmlidXRlX25vZGVfaXAgZ2V0KToyMzc5IgoJcG9kbWFuIGV4ZWMgJHtDT05UQUlORVJ9IGV0Y2RjdGwgbWVtYmVyIGxpc3QgLS1lbmRwb2ludHM9JHRoaXNfbm9kZV9lbmRwb2ludCAtdyBqc29uCn0KCmNoZWNrX3BlZXJzKCkKewoJIyBDaGVjayBwZWVycyBlbmRwb2ludCBzdGF0dXMgYW5kIGxvY2FsbHkgYWNjZXNzaWJsZSBtZW1iZXIgbGlzdAoJbG9jYWwgbWVtYmVyX2xpc3RfanNvbgoKCWlmICEgY29udGFpbmVyX2V4aXN0czsgdGhlbgoJCSMgd2UgbmVlZCBhIHJ1bm5pbmcgY29udGFpbmVyIHRvIGV4ZWN1dGUgZXRjZGN0bC4KCQlyZXR1cm4gJE9DRl9TVUNDRVNTCglmaQoKCW1lbWJlcl9saXN0X2pzb249JChnZXRfbWVtYmVyX2xpc3RfanNvbikKCXJjPSQ/CglvY2ZfbG9nIGRlYnVnICJtZW1iZXIgbGlzdDogJG1lbWJlcl9saXN0X2pzb24iCglpZiBbICRyYyAtbmUgMCBdOyB0aGVuCgkJb2NmX2xvZyBpbmZvICJwb2RtYW4gZmFpbGVkIHRvIGdldCBtZW1iZXIgbGlzdDogZXJyb3IgY29kZSAkcmMiCgoJCWVuZHBvaW50X3N0YXR1c19qc29uPSQoZ2V0X2VuZHBvaW50X3N0YXR1c19qc29uKQoJCW9jZl9sb2cgaW5mbyAiZW5kcG9pbnQgc3RhdHVzOiAkZW5kcG9pbnRfc3RhdHVzX2pzb24iCgoJCWNvdW50X2VuZHBvaW50cz0kKGVjaG8gLW4gJGVuZHBvaW50X3N0YXR1c19qc29uIHwganEgLXIgIi5bXS5FbmRwb2ludCIgfCB3YyAtbCkKCQlpZiBbICRjb3VudF9lbmRwb2ludHMgLWVxIDEgXTsgdGhlbgoJCQlvY2ZfbG9nIGluZm8gIm9uZSBlbmRwb2ludCBvbmx5OiBjaGVja2luZyBzdGF0dXMgZXJyb3JzIgoJCQllbmRwb2ludF9zdGF0dXNfZXJyb3JzPSQoZWNobyAtbiAkZW5kcG9pbnRfc3RhdHVzX2pzb24gfCBqcSAtciAiLlswXS5TdGF0dXMuZXJyb3JzIikKCQkJaWYgZWNobyAiJGVuZHBvaW50X3N0YXR1c19lcnJvcnMiIHwgZ3JlcCAtcSAibm8gbGVhZGVyIjsgdGhlbgoJCQkJc2V0X2ZvcmNlX25ld19jbHVzdGVyCgkJCQlzZXRfc3RhbmRhbG9uZV9ub2RlCgkJCQlvY2ZfZXhpdF9yZWFzb24gIiROT0RFTkFNRSBtdXN0IGZvcmNlIGEgbmV3IGNsdXN0ZXIiCgkJCQlyZXR1cm4gJE9DRl9FUlJfR0VORVJJQwoJCQlmaQoJCQlpZiBbICIkZW5kcG9pbnRfc3RhdHVzX2Vycm9ycyIgIT0gIm51bGwiIF07IHRoZW4KCQkJCW9jZl9sb2cgZXJyb3IgInVubWFuYWdlZCBlbmRwb2ludCBzdGF0dXMgZXJyb3I6ICRlbmRwb2ludF9zdGF0dXNfZXJyb3JzIgoJCQlmaQoJCWZpCgoJCXJldHVybiAkT0NGX1NVQ0NFU1MKCWZpCgoJIyBFeGFtcGxlIG9mIC5tZW1iZXJzW10gaW5zdGFuY2UgZmllbGRzIGluIG1lbWJlciBsaXN0IGpzb24gZm9ybWF0OgoJIyBOT1RFIHRoYXQgIm5hbWUiIGlzIHByZXNlbnQgaW4gdm90aW5nIG1lbWJlcnMgb25seSwgd2hpbGUgImlzTGVhcm5lciIgaW4gbGVhcm5lciBtZW1iZXJzIG9ubHkKCSMgYW5kIHRoZSB2YWx1ZSBpcyBhbHdheXMgdHJ1ZSAobm90IGEgc3RyaW5nKSBpbiB0aGF0IGNhc2UuCgkjIHsKCSMgICAiSUQiOiA8bWVtYmVyIElEPiwKCSMgICAibmFtZSI6ICI8bm9kZSBob3N0bmFtZT4iLAoJIyAgICJwZWVyVVJMcyI6IFsKCSMgICAgICAgImh0dHBzOi8vPG5vZGUgSVA+OjIzODAiCgkjICAgXSwKCSMgICAiY2xpZW50VVJMcyI6IFsKCSMgICAgICAgImh0dHBzOi8vPG5vZGUgSVA+OjIzNzkiCgkjICAgXQoJIyB9Cglmb3Igbm9kZSBpbiAkKGVjaG8gIiRPQ0ZfUkVTS0VZX25vZGVfaXBfbWFwIiB8IHNlZCAicy9ccy8vZztzLzsvIC9nIik7IGRvCgkJbmFtZT0kKGVjaG8gIiRub2RlIiB8IGF3ayAtRiI6IiAne3ByaW50ICQxfScpCgkJIyBkbyBub3QgY2hlY2sgaXRzZWxmCgkJaWYgWyAiJG5hbWUiID09ICIkTk9ERU5BTUUiIF07IHRoZW4KCQkJY29udGludWUKCQlmaQoKCQkjIENoZWNrIGJ5IElQIGluc3RlYWQgb2YgTmFtZSBzaW5jZSAibGVhcm5lciIgbWVtYmVycyBhcHBlYXIgb25seSBpbiBwZWVyVVJMcywgbm90IGJ5IE5hbWUuCgkJaXA9JChlY2hvICIkbm9kZSIgfCBhd2sgLUYiOiIgJ3twcmludCAkMn0nKQoJCWlkPSQoZWNobyAtbiAkbWVtYmVyX2xpc3RfanNvbiB8IGpxIC1yICIubWVtYmVyc1tdIHwgc2VsZWN0KCAucGVlclVSTHMgfCBtYXAodGVzdChcIiRpcFwiKSkgfCBhbnkpLklEIikKCQlpZiBbIC16ICIkaWQiIF07IHRoZW4KCQkJb2NmX2xvZyBpbmZvICIkbmFtZSBpcyBub3QgaW4gdGhlIG1lbWJlcnMgbGlzdCIKCQkJYWRkX21lbWJlcl9hc19sZWFybmVyICRuYW1lICRpcAoJCQlzZXRfc3RhbmRhbG9uZV9ub2RlCgkJZWxzZQoJCQlvY2ZfbG9nIGRlYnVnICIkbmFtZSBpcyBpbiB0aGUgbWVtYmVycyBsaXN0IGJ5IElQOiAkaXAiCgkJCWNsZWFyX3N0YW5kYWxvbmVfYW5kX2xlYXJuZXJfaWZfbm90X2xlYXJuZXJzICIkbWVtYmVyX2xpc3RfanNvbiIKCQlmaQoJZG9uZQoJcmV0dXJuICRPQ0ZfU1VDQ0VTUwp9CgpjYWNoZV9ldGNkX2RhdGEoKSB7Cglsb2NhbCByYyByZXZpc2lvbiBjbHVzdGVyX2lkCgoJY29udGFpbmVyX2V4aXN0cwoJaWYgWyAkPyAtbmUgMCBdOyB0aGVuCgkJIyB3ZSBuZWVkIGEgcnVubmluZyBjb250YWluZXIgdG8gZXhlY3V0ZSBldGNkY3RsLgoJCXJldHVybiAkT0NGX1NVQ0NFU1MKCWZpCgoJcmV2aXNpb249JChqcSAtciAiLm1heFJhZnRJbmRleCIgL3Zhci9saWIvZXRjZC9yZXZpc2lvbi5qc29uKQoJY3JtX2F0dHJpYnV0ZSAtLXR5cGUgbm9kZXMgLS1ub2RlICIkTk9ERU5BTUUiIC0tbmFtZSAicmV2aXNpb24iIC0tdXBkYXRlICIkcmV2aXNpb24iCglyYz0kPwoJaWYgWyAkcmMgLW5lIDAgXTsgdGhlbgoJCW9jZl9sb2cgZXJyICJjb3VsZCBub3QgY2FjaGUgZXRjZCByZXZpc2lvbjogZXJyb3IgY29kZSAkcmMiCgkJcmV0dXJuICRyYwoJZmkKCgljbHVzdGVyX2lkPSQoY2F0IC92YXIvbGliL2V0Y2QvcmV2aXNpb24uanNvbiB8IGpxIC1yICIuY2x1c3RlcklkIikKCWNybV9hdHRyaWJ1dGUgLS10eXBlIG5vZGVzIC0tbm9kZSAkTk9ERU5BTUUgLS1uYW1lICJjbHVzdGVyX2lkIiAtLXVwZGF0ZSAiJGNsdXN0ZXJfaWQiCglyYz0kPwoJaWYgWyAkcmMgLW5lIDAgXTsgdGhlbgoJCW9jZl9sb2cgZXJyICJjb3VsZCBub3QgY2FjaGUgZXRjZCBjbHVzdGVyLWlkOiBlcnJvciBjb2RlICRyYyIKCQlyZXR1cm4gJHJjCglmaQoKCXJldHVybiAkT0NGX1NVQ0NFU1MKfQoKcG9kbWFuX3NpbXBsZV9zdGF0dXMoKQp7Cglsb2NhbCByYwoKCSMgc2ltcGxlIHN0YXR1cyBpcyBpbXBsZW1lbnRlZCB2aWEgcG9kbWFuIGV4ZWMKCSMgZXZlcnl0aGluZyBiZXNpZGVzIHN1Y2Nlc3MgaXMgY29uc2lkZXJlZCAibm90IHJ1bm5pbmciCgltb25pdG9yX2NtZF9leGVjCglyYz0kPwoJaWYgWyAkcmMgLW5lICRPQ0ZfU1VDQ0VTUyBdOyB0aGVuCgkJcmM9JE9DRl9OT1RfUlVOTklORzsKCWZpCglyZXR1cm4gJHJjCn0KCnBvZG1hbl9tb25pdG9yKCkKewoJIyBXZSByZWx5IG9uIHJ1bm5pbmcgcG9kbWFuIGV4ZWMgdG8gbW9uaXRvciB0aGUgY29udGFpbmVyCgkjIHN0YXRlIGJlY2F1c2UgdGhhdCBjb21tYW5kIHNlZW1zIHRvIGJlIGxlc3MgcHJvbmUgdG8KCSMgcGVyZm9ybWFuY2UgaXNzdWUgdW5kZXIgSU8gbG9hZC4KCSMKCSMgRm9yIHByb2JlcyB0byB3b3JrLCB3ZSBleHBlY3QgY21kX2V4ZWMgdG8gYmUgYWJsZSB0byByZXBvcnQKCSMgd2hlbiBhIGNvbnRhaW5lciBpcyBub3QgcnVubmluZy4gSGVyZSwgd2UncmUgbm90IGludGVyZXN0ZWQKCSMgaW4gZGlzdGluZ3Vpc2hpbmcgd2hldGhlciBpdCdzIHN0b3BwZWQgb3Igbm9uIGV4aXN0aW5nCgkjICh0aGVyZSdzIGZ1bmN0aW9uIGNvbnRhaW5lcl9leGlzdHMgZm9yIHRoYXQpCgltb25pdG9yX2NtZF9leGVjCglyYz0kPwoJaWYgWyAkcmMgLW5lIDAgXTsgdGhlbgoJCXJldHVybiAkcmMKCWZpCgoJaWYgaXNfbGVhcm5lcjsgdGhlbgoJCW9jZl9sb2cgaW5mbyAiJE5PREVOQU1FIGlzIGxlYXJuZXIuIENhbm5vdCBnZXQgbWVtYmVyIGlkIgoJCXJldHVybiAiJE9DRl9TVUNDRVNTIgoJZmkKCSMgRmFpbGluZyB0byBjYWNoZSBkYXRhIGFuZCBjaGVjayBtZW1iZXIgbGlzdCBzaG91bGQgbm90IGNhdXNlIHRoZQoJIyBtb25pdG9yIG9wZXJhdGlvbiB0byBmYWlsLgoJIyBUT0RPOiBtb3ZlIHRoaXMgaW5zaWRlIGNoZWNrX3BlZXJzIHdoZXJlIHdlIGFscmVkeSBxdWVyeSBtZW1iZXIgbGlzdCBqc29uCgljYWNoZV9tZW1iZXJfaWQKCWlmICEgY2hlY2tfcGVlcnM7IHRoZW4KCQlyZXR1cm4gJE9DRl9FUlJfR0VORVJJQwoJZmkKCgkjIFRPRE86IEV0Y2QgZGF0YSBjb21lcyBmcm9tIHRoZSBkaXNrLCBzbyBpZiBpdCBpcyBub3QgYXZhaWxhYmxlIGlzIGEgZmF0YWwgZmFpbHVyZQoJY2FjaGVfZXRjZF9kYXRhCglyZXR1cm4gJD8KfQoKcG9kbWFuX2NyZWF0ZV9tb3VudHMoKSB7CglvbGRJRlM9IiRJRlMiCglJRlM9IiwiCglmb3IgZGlyZWN0b3J5IGluICRPQ0ZfUkVTS0VZX21vdW50X3BvaW50czsgZG8KCQlta2RpciAtcCAiJGRpcmVjdG9yeSIKCWRvbmUKCUlGUz0iJG9sZElGUyIKfQoKcG9kbWFuX2NvbnRhaW5lcl9pZCgpCnsKCSMgUmV0cmlldmUgdGhlIGNvbnRhaW5lciBJRCBieSBkb2luZyBhICJwb2RtYW4gcHMiIHJhdGhlciB0aGFuCgkjIGEgInBvZG1hbiBpbnNwZWN0IiwgYmVjYXVzZSB0aGUgbGF0dGVyIGhhcyBwZXJmb3JtYW5jZSBpc3N1ZXMKCSMgdW5kZXIgSU8gbG9hZC4KCSMgV2UgY291bGQgaGF2ZSBydW4gInBvZG1hbiBzdGFydCAkQ09OVEFJTkVSIiB0byBnZXQgdGhlIElEIGJhY2sKCSMgYnV0IGlmIHRoZSBjb250YWluZXIgaXMgc3RvcHBlZCwgdGhlIGNvbW1hbmQgd2lsbCByZXR1cm4gYQoJIyBuYW1lIGluc3RlYWQgb2YgYSBjb250YWluZXIgSUQuIFRoaXMgd291bGQgYnJlYWsgdXMuCglwb2RtYW4gcHMgLS1uby10cnVuYyAtLWZvcm1hdCAne3suSUR9fSB7ey5OYW1lc319JyB8IGdyZXAgLUYgLXcgLW0xICIkQ09OVEFJTkVSIiB8IGN1dCAtZCcgJyAtZjEKfQoKCmNyZWF0ZV90cmFuc2llbnRfZHJvcF9pbl9kZXBlbmRlbmN5KCkKewoJbG9jYWwgY2lkPSQxCglsb2NhbCByYz0kT0NGX1NVQ0NFU1MKCglpZiBbIC16ICIkY2lkIiBdOyB0aGVuCgkJb2NmX2V4aXRfcmVhc29uICJDb250YWluZXIgSUQgbm90IGZvdW5kIGZvciBcIiRDT05UQUlORVJcIi4gTm90IGNyZWF0aW5nIGRyb3AtaW4gZGVwZW5kZW5jeSIKCQlyZXR1cm4gJE9DRl9FUlJfR0VORVJJQwoJZmkKCglvY2ZfbG9nIGluZm8gIkNyZWF0aW5nIGRyb3AtaW4gZGVwZW5kZW5jeSBmb3IgXCIkQ09OVEFJTkVSXCIgKCRjaWQpIgoJZm9yIHNjb3BlIGluICJsaWJwb2QtJGNpZC5zY29wZS5kIiAibGlicG9kLWNvbm1vbi0kY2lkLnNjb3BlLmQiOyBkbwoJCWlmIFsgJHJjIC1lcSAkT0NGX1NVQ0NFU1MgXSAmJiBbICEgLWQgL3J1bi9zeXN0ZW1kL3RyYW5zaWVudC8iJHNjb3BlIiBdOyB0aGVuCgkJCW1rZGlyIC1wIC9ydW4vc3lzdGVtZC90cmFuc2llbnQvIiRzY29wZSIgJiYgXAoJCQlwcmludGYgIltVbml0XVxuQmVmb3JlPXBhY2VtYWtlci5zZXJ2aWNlIiA+IC9ydW4vc3lzdGVtZC90cmFuc2llbnQvIiRzY29wZSIvZGVwLmNvbmYgJiYgXAoJCQljaG1vZCBhZ28rciAvcnVuL3N5c3RlbWQvdHJhbnNpZW50LyIkc2NvcGUiIC9ydW4vc3lzdGVtZC90cmFuc2llbnQvIiRzY29wZSIvZGVwLmNvbmYKCQkJcmM9JD8KCQlmaQoJZG9uZQoKCWlmIFsgJHJjIC1uZSAkT0NGX1NVQ0NFU1MgXTsgdGhlbgoJCW9jZl9sb2cgZXJyb3IgIkNvdWxkIG5vdCBjcmVhdGUgZHJvcC1pbiBkZXBlbmRlbmN5IGZvciBcIiRDT05UQUlORVJcIiAoJGNpZCkiCgllbHNlCgkJc3lzdGVtY3RsIGRhZW1vbi1yZWxvYWQKCQlyYz0kPwoJCWlmIFsgJHJjIC1uZSAkT0NGX1NVQ0NFU1MgXTsgdGhlbgoJCQlvY2ZfbG9nIGVycm9yICJDb3VsZCBub3QgcmVmcmVzaCBzZXJ2aWNlIGRlZmluaXRpb24gYWZ0ZXIgY3JlYXRpbmcgZHJvcC1pbiBmb3IgXCIkQ09OVEFJTkVSXCIiCgkJZmkKCWZpCgoJcmV0dXJuICRyYwp9CgoKcnVuX25ld19jb250YWluZXIoKQp7Cglsb2NhbCBvcHRzPSQxCglsb2NhbCBpbWFnZT0kMgoJbG9jYWwgY21kPSQzCglsb2NhbCByYwoKCW9jZl9sb2cgaW5mbyAicnVubmluZyBjb250YWluZXIgJENPTlRBSU5FUiBmb3IgdGhlIGZpcnN0IHRpbWUiCglvdXQ9JChwb2RtYW4gcnVuICRvcHRzICRpbWFnZSAkY21kIDI+JjEpCglyYz0kPwoKCWlmIFsgLW4gIiRvdXQiIF07IHRoZW4KCQlvdXQ9IiQoZWNobyAiJG91dCIgfCB0ciAtcyAnIFx0XHJcbicgJyAnKSIKCQlpZiBbICRyYyAtZXEgMCBdOyB0aGVuCgkJCW9jZl9sb2cgaW5mbyAiJG91dCIKCQllbHNlCgkJCW9jZl9sb2cgZXJyICIkb3V0IgoJCWZpCglmaQoKCWlmIFsgJHJjIC1lcSAxMjUgXTsgdGhlbgoJCSMgSWYgYW4gaW50ZXJuYWwgcG9kbWFuIGVycm9yIG9jY3VycmVkLCBpdCBtaWdodCBiZSBiZWNhdXNlCgkJIyB0aGUgaW50ZXJuYWwgc3RvcmFnZSBsYXllciBzdGlsbCByZWZlcmVuY2VzIGFuIG9sZCBjb250YWluZXIKCQkjIHdpdGggdGhlIHNhbWUgbmFtZSwgZXZlbiB0aG91Z2ggcG9kbWFuIGl0c2VsZiB0aGlua3MgdGhlcmUKCQkjIGlzIG5vIHN1Y2ggY29udGFpbmVyLiBJZiBzbywgcHVyZ2UgdGhlIHN0b3JhZ2UgbGF5ZXIgdG8gdHJ5CgkJIyB0byBjbGVhbiB0aGUgY29ycnVwdGlvbiBhbmQgdHJ5IGFnYWluLgoJCWlmIGVjaG8gIiRvdXQiIHwgZ3JlcCAtcSAidW5rbm93bi4qZmxhZyI7IHRoZW4KCQkJb2NmX2V4aXRfcmVhc29uICIkb3V0IgoJCQlyZXR1cm4gJHJjCgkJZmkKCgkJb2NmX2xvZyB3YXJuICJJbnRlcm5hbCBwb2RtYW4gZXJyb3Igd2hpbGUgY3JlYXRpbmcgbmV3IGNvbnRhaW5lciAkQ09OVEFJTkVSLiBSZXRyeWluZy4iCgkJb2NmX3J1biBwb2RtYW4gcm0gLS1zdG9yYWdlICRDT05UQUlORVIKCQlvY2ZfcnVuIHBvZG1hbiBydW4gJG9wdHMgJGltYWdlICRjbWQKCQlyYz0kPwoJZWxpZiBbICRyYyAtZXEgMTI3IF07IHRoZW4KCQkjIHJoYnojMTk3MjIwOTogcG9kbWFuIDMuMC54IHNlZW1zIHRvIGJlIGhpdCBieSBhIHJhY2UKCQkjIHdoZXJlIHRoZSBjZ3JvdXAgaXMgbm90IHlldCBzZXQgdXAgcHJvcGVybHkgd2hlbiB0aGUgT0NJCgkJIyBydW50aW1lIGNvbmZpZ3VyZXMgdGhlIGNvbnRhaW5lci4gSWYgdGhhdCBoYXBwZW5zLCByZWNyZWF0ZQoJCSMgdGhlIGNvbnRhaW5lciBhcyBsb25nIGFzIHdlIGdldCB0aGUgc2FtZSBlcnJvciBjb2RlIG9yCgkJIyB1bnRpbCBzdGFydCB0aW1lb3V0IHByZWVtcHRzIHVzLgoJCXdoaWxlIFsgJHJjIC1lcSAxMjcgXSAmJiAoZWNobyAiJG91dCIgfCBncmVwIC1xICJjZ3JvdXAuKnNjb3BlIG5vdCBmb3VuZCIpIDsgZG8KCQkJb2NmX2xvZyB3YXJuICJJbnRlcm5hbCBwb2RtYW4gZXJyb3Igd2hpbGUgYXNzaWduaW5nIGNncm91cC4gUmV0cnlpbmcuIgoJCQkjIEFyYml0cmFyeSBzbGVlcCB0byBwcmV2ZW50IGNvbnN1bWluZyBhbGwgQ1BVIHdoaWxlIGxvb3BpbmcKCQkJc2xlZXAgMQoJCQlwb2RtYW4gcm0gLWYgIiRDT05UQUlORVIiCgkJCW91dD0kKHBvZG1hbiBydW4gJG9wdHMgJGltYWdlICRjbWQgMj4mMSkKCQkJcmM9JD8KCQlkb25lCgkJIyBMb2cgdGhlIGNyZWF0ZWQgY29udGFpbmVyIElEIGlmIGl0IHN1Y2NlZWRlZAoJCWlmICBbICRyYyAtZXEgMCBdOyB0aGVuCgkJCW9jZl9sb2cgaW5mbyAiJG91dCIKCQlmaQoJZmkKCglyZXR1cm4gJHJjCn0KCmNvbXBhcmVfcmV2aXNpb24oKQp7CgkjIENvbXBhcmUgbG9jYWwgcmV2aXNpb24gKGZyb20gZGlzaykgYWdhaW5zdCBwZWVyIHJldmlzaW9uIChmcm9tIENJQikuCgkjIHJldHVybnMgIm9sZGVyIiwgImVxdWFsIiBvciAibmV3ZXIiCglsb2NhbCByZXZpc2lvbgoJbG9jYWwgcGVlcl9ub2RlX25hbWUKCWxvY2FsIHBlZXJfcmV2aXNpb24KCglyZXZpc2lvbj0kKGF0dHJpYnV0ZV9ub2RlX3JldmlzaW9uIGdldCkKCXBlZXJfcmV2aXNpb249JChhdHRyaWJ1dGVfbm9kZV9yZXZpc2lvbl9wZWVyKQoKCWlmIFsgIiRyZXZpc2lvbiIgPT0gIiIgXSB8fCBbICIkcmV2aXNpb24iID09ICJudWxsIiBdIHx8IFsgIiRwZWVyX3JldmlzaW9uIiA9PSAiIiBdIHx8IFsgIiRwZWVyX3JldmlzaW9uIiA9PSAibnVsbCIgXTsgdGhlbgoJCW9jZl9sb2cgZXJyb3IgImNvdWxkIG5vdCBjb21wYXJlIHJldmlzaW9uczogJE5PREVOQU1FIGxvY2FsIHJldmlzaW9uOiAkcmV2aXNpb24sIHBlZXIgcmV2aXNpb246ICRwZWVyX3JldmlzaW9uIgoJCXJldHVybiAiJE9DRl9FUlJfR0VORVJJQyIKCWZpCgoJaWYgWyAiJHJldmlzaW9uIiAtZ3QgIiRwZWVyX3JldmlzaW9uIiBdOyB0aGVuCgkJb2NmX2xvZyBpbmZvICIkTk9ERU5BTUUgcmV2aXNpb246ICRyZXZpc2lvbiBpcyBuZXdlciB0aGFuIHBlZXIgcmV2aXNpb246ICRwZWVyX3JldmlzaW9uIgoJCWVjaG8gIm5ld2VyIgoJZWxpZiBbICIkcmV2aXNpb24iIC1lcSAiJHBlZXJfcmV2aXNpb24iIF07IHRoZW4KCQlvY2ZfbG9nIGluZm8gIiROT0RFTkFNRSByZXZpc2lvbjogJHJldmlzaW9uIGlzIGVxdWFsIHRvIHBlZXIgcmV2aXNpb246ICRwZWVyX3JldmlzaW9uIgoJCWVjaG8gImVxdWFsIgoJZWxzZQoJCW9jZl9sb2cgaW5mbyAiJE5PREVOQU1FIHJldmlzaW9uOiAkcmV2aXNpb24gaXMgb2xkZXIgdGhhbiBwZWVyIHJldmlzaW9uOiAkcGVlcl9yZXZpc2lvbiIKCQllY2hvICJvbGRlciIKCWZpCglyZXR1cm4gIiRPQ0ZfU1VDQ0VTUyIKfQoKcG9kbWFuX3N0YXJ0KCkKewoJbG9jYWwgY2lkCglsb2NhbCByYwoJbG9jYWwgZXRjZF9wb2Rfd2FpdF90aW1lb3V0X3NlYz0kKCgxMCAqIDYwKSkKCWxvY2FsIGV0Y2RfcG9kX3BvbGxfaW50ZXJ2YWxfc2VjPTEwCglsb2NhbCBldGNkX3BvZF9wb2xsX3JldHJpZXM9JCgoZXRjZF9wb2Rfd2FpdF90aW1lb3V0X3NlYy9ldGNkX3BvZF9wb2xsX2ludGVydmFsX3NlYykpCglsb2NhbCBwb2Rfd2FzX3J1bm5pbmc9ZmFsc2UKCglvY2ZfbG9nIG5vdGljZSAicG9kbWFuLWV0Y2Qgc3RhcnQiCglhdHRyaWJ1dGVfbm9kZV9pcCB1cGRhdGUKCWF0dHJpYnV0ZV9ub2RlX2NsdXN0ZXJfaWQgdXBkYXRlCglhdHRyaWJ1dGVfbm9kZV9yZXZpc2lvbiB1cGRhdGUKCgkjIGVuc3VyZSB0aGUgZXRjZCBwb2QgaXMgbm90IHJ1bm5pbmcgYmVmb3JlIHN0YXJ0aW5nIHRoZSBjb250YWluZXIKCW9jZl9sb2cgaW5mbyAiZW5zdXJlIGV0Y2QgcG9kIGlzIG5vdCBydW5uaW5nIChyZXRyaWVzOiAkZXRjZF9wb2RfcG9sbF9yZXRyaWVzLCBpbnRlcnZhbDogJGV0Y2RfcG9kX3BvbGxfaW50ZXJ2YWxfc2VjKSIKCWZvciB0cnkgaW4gJChzZXEgJGV0Y2RfcG9kX3BvbGxfcmV0cmllcyk7IGRvCgkJaWYgISBldGNkX3BvZF9jb250YWluZXJfZXhpc3RzOyB0aGVuCgkJCWJyZWFrCgkJZmkKCQlvY2ZfbG9nIGluZm8gImV0Y2QgcG9kIHJ1bm5pbmc6IHJldHJ5IGluICRldGNkX3BvZF9wb2xsX2ludGVydmFsX3NlYyBzZWNvbmRzLiIKCQlwb2Rfd2FzX3J1bm5pbmc9dHJ1ZQoJCXNsZWVwICRldGNkX3BvZF9wb2xsX2ludGVydmFsX3NlYwoJZG9uZQoJaWYgZXRjZF9wb2RfY29udGFpbmVyX2V4aXN0czsgdGhlbgoJCW9jZl9leGl0X3JlYXNvbiAiZXRjZCBwb2QgaXMgc3RpbGwgcnVubmluZyBhZnRlciAkZXRjZF9wb2Rfd2FpdF90aW1lb3V0X3NlYyBzZWNvbmRzLiIKCQlyZXR1cm4gJE9DRl9FUlJfR0VORVJJQwoJZmkKCgkjIGZvcmNlLW5ldy1jbHVzdGVyIHByb3BlcnR5IGlzIGEgcnVudGltZS1zY29wZWQgZmxhZyB0aGF0IGluc3RydWN0cyB0aGUgYWdlbnQgdG8gZm9yY2UgYSBuZXcgY2x1c3Rlci1vZi0xLgoJIyBTaW5jZSB0aGlzIGF0dHJpYnV0ZSBpcyBjb25maWd1cmVkIHdpdGggYSByZWJvb3QtbGlmZXRpbWUsIGl0IGlzIGF1dG9tYXRpY2FsbHkgY2xlYXJlZCB3aGVuIHRoZSBtYWNoaW5lIHJlYm9vdHMuCgkjIElmIHRoZSBhZ2VudCBkZXRlY3RzIGR1cmluZyBpdHMgc3RhcnQgdGhhdCB0aGlzIHByb3BlcnR5IGlzIHNldCwgaXQgaW5kaWNhdGVzIHRoYXQgdGhlIGZsYWcgd2FzIGV4cGxpY2l0bHkgc2V0CgkjIGR1cmluZyB0aGUgY3VycmVudCBub2RlIGJvb3Qgc2Vzc2lvbiwgaW1wbHlpbmcgYSBkZWxpYmVyYXRlIHJlcXVlc3QgdG8gcmVjb3ZlciB0aGUgY2x1c3Rlci4KCWlmIG9jZl9pc190cnVlICIkcG9kX3dhc19ydW5uaW5nIjsgdGhlbgoJCW9jZl9sb2cgaW5mbyAic3RhdGljIHBvZCB3YXMgcnVubmluZzogc3RhcnQgbm9ybWFsbHkiCgllbHNlCgkJaWYgaXNfZm9yY2VfbmV3X2NsdXN0ZXI7IHRoZW4KCQkJb2NmX2xvZyBub3RpY2UgIiROT0RFTkFNRSBtYXJrZWQgdG8gZm9yY2UtbmV3LWNsdXN0ZXIiCgkJZWxzZQoJCQkjIFdoZW4gdGhlIGxvY2FsIGFnZW50IHN0YXJ0cywgd2UgY2FuIGluZmVyIHRoZSBjbHVzdGVyIHN0YXRlIGJ5IGNvdW50aW5nCgkJCSMgaG93IG1hbnkgYWdlbnRzIGFyZSBzdGFydGluZyBvciBhbHJlYWR5IGFjdGl2ZToKCQkJIyAtIDEgYWN0aXZlIGFnZW50OiBpdCdzIHRoZSBwZWVyICh3ZSBhcmUganVzdCBzdGFydGluZykKCQkJIyAtIDAgYWN0aXZlIGFnZW50cywgMSBzdGFydGluZzogd2UgYXJlIHN0YXJ0aW5nOyB0aGUgcGVlciBpcyBub3Qgc3RhcnRpbmcKCQkJIyAtIDAgYWN0aXZlIGFnZW50cywgMiBzdGFydGluZzogYm90aCBhZ2VudHMgYXJlIHN0YXJ0aW5nIHNpbXVsdGFuZW91c2x5CgkJCWxvY2FsIGFjdGl2ZV9yZXNvdXJjZV9jb3VudHM9JChlY2hvICIkT0NGX1JFU0tFWV9DUk1fbWV0YV9ub3RpZnlfYWN0aXZlX3Jlc291cmNlIiB8IHdjIC13KQoJCQljYXNlICIkYWN0aXZlX3Jlc291cmNlX2NvdW50cyIgaW4KCQkJMSkKCQkJCWlmIFsgIiQoYXR0cmlidXRlX2xlYXJuZXJfbm9kZSBnZXQpIiA9PSAiJChnZXRfcGVlcl9ub2RlX25hbWUpIiBdOyB0aGVuCgkJCQkJb2NmX2xvZyBpbmZvICJwZWVyIGFjdGl2ZSBidXQgaW4gbGVhcm5lciBtb2RlOiBzdGFydCBub3JtYWxseSIKCQkJCWVsc2UKCQkJCQlvY2ZfbG9nIGluZm8gInBlZXIgYWN0aXZlIGFscmVhZHk6IGpvaW5pbmcgYXMgbGVhcm5lciIKCQkJCQlKT0lOX0FTX0xFQVJORVI9dHJ1ZQoJCQkJZmkKCQkJCTs7CgkJCTApCgkJCQkjIGNvdW50IGhvdyBtYW55IGFnZW50cyBhcmUgc3RhcnRpbmcgbm93CgkJCQlsb2NhbCBzdGFydF9yZXNvdXJjZXNfY291bnQ9JChlY2hvICIkT0NGX1JFU0tFWV9DUk1fbWV0YV9ub3RpZnlfc3RhcnRfcmVzb3VyY2UiIHwgd2MgLXcpCgkJCQljYXNlICIkc3RhcnRfcmVzb3VyY2VzX2NvdW50IiBpbgoJCQkJMSkKCQkJCQlvY2ZfbG9nIGRlYnVnICJwZWVyIG5vdCBzdGFydGluZzogY29tcGFyZSByZXZpc2lvbnMiCgkJCQkJaWYgISByZXN1bHQ9JChjb21wYXJlX3JldmlzaW9uKTsgdGhlbgoJCQkJCQlvY2ZfbG9nIGVycm9yICJjb3VsZCBub3QgY29tcGFyZSByZXZpc2lvbnM6IGVycm9yICQ/IgoJCQkJCQlyZXR1cm4gIiRPQ0ZfRVJSX0dFTkVSSUMiCgkJCQkJZWxpZiBbICIkcmVzdWx0IiAhPSAib2xkZXIiIF07IHRoZW4KCQkJCQkJIyBJZiBvdXIgcmV2aXNpb24gaXMgdGhlIHNhbWUgYXMgb3IgbmV3ZXIgdGhhbiB0aGUgcGVlcidzIGxhc3Qgc2F2ZWQKCQkJCQkJIyByZXZpc2lvbiwgYW5kIHRoZSBwZWVyIGFnZW50IGlzbid0IGN1cnJlbnRseSBzdGFydGluZywgd2UgY2FuCgkJCQkJCSMgcmVzdG9yZSBlLXF1b3J1bSBieSBmb3JjaW5nIGEgbmV3IGNsdXN0ZXIuCgkJCQkJCXNldF9mb3JjZV9uZXdfY2x1c3RlcgoJCQkJCWVsc2UKCQkJCQkJb2NmX2xvZyBlcnJvciAibG9jYWwgcmV2aXNpb24gaXMgb2xkZXIgYW5kIHBlZXIgaXMgbm90IHN0YXJ0aW5nOiBjYW4gbm90IHN0YXJ0IgoJCQkJCQlyZXR1cm4gIiRPQ0ZfRVJSX0dFTkVSSUMiCgkJCQkJZmkKCQkJCQk7OwoJCQkJMikKCQkJCQlvY2ZfbG9nIGluZm8gInBlZXIgc3RhcnRpbmc6IGNvbXBhcmUgcmV2aXNpb25zIgoJCQkJCWlmICEgcmVzdWx0PSQoY29tcGFyZV9yZXZpc2lvbik7IHRoZW4KCQkJCQkJb2NmX2xvZyBlcnJvciAiY291bGQgbm90IGNvbXBhcmUgcmV2aXNpb25zOiBlcnJvciAkPyIKCQkJCQkJcmV0dXJuICIkT0NGX0VSUl9HRU5FUklDIgoJCQkJCWVsaWYgWyAiJHJlc3VsdCIgPT0gIm5ld2VyIiBdOyB0aGVuCgkJCQkJCXNldF9mb3JjZV9uZXdfY2x1c3RlcgoJCQkJCWVsaWYgWyAiJHJlc3VsdCIgPT0gIm9sZGVyIiBdOyB0aGVuCgkJCQkJCW9jZl9sb2cgaW5mbyAiJE5PREVOQU1FIHNoYWxsIGpvaW4gYXMgbGVhcm5lciIKCQkJCQkJSk9JTl9BU19MRUFSTkVSPXRydWUKCQkJCQllbHNlCgkJCQkJCWlmIFsgIiQoYXR0cmlidXRlX25vZGVfY2x1c3Rlcl9pZCBnZXQpIiA9PSAiJChhdHRyaWJ1dGVfbm9kZV9jbHVzdGVyX2lkX3BlZXIpIiBdOyB0aGVuCgkJCQkJCQlvY2ZfbG9nIGluZm8gInNhbWUgcmV2aXNpb24gYW5kIGNsdXN0ZXIgaWQ6IHN0YXJ0IG5vcm1hbCIKCQkJCQkJZWxzZQoJCQkJCQkJb2NmX2V4aXRfcmVhc29uICJzYW1lIHJldmlzaW9uIGJ1dCBkaWZmZXJlbnQgY2x1c3RlciBpZCIKCQkJCQkJCXJldHVybiAiJE9DRl9FUlJfR0VORVJJQyIKCQkJCQkJZmkKCQkJCQlmaQoJCQkJCTs7CgkJCQkqKQoJCQkJCW9jZl9sb2cgZXJyb3IgIlVuZXhwZWN0ZWQgc3RhcnQgcmVzb3VyY2UgY291bnQ6ICRzdGFydF9yZXNvdXJjZXNfY291bnQiCgkJCQkJcG9kbWFuX25vdGlmeQoJCQkJCXJldHVybiAiJE9DRl9FUlJfR0VORVJJQyIKCQkJCQk7OwoJCQkJZXNhYwoJCQkJOzsKCQkJKikKCQkJCW9jZl9sb2cgZXJyb3IgIlVuZXhwZWN0ZWQgYWN0aXZlIHJlc291cmNlIGNvdW50OiAkYWN0aXZlX3Jlc291cmNlc19jb3VudCIKCQkJCXBvZG1hbl9ub3RpZnkKCQkJCXJldHVybiAiJE9DRl9FUlJfR0VORVJJQyIKCQkJCTs7CgkJCWVzYWMKCQlmaQoJZmkKCglwb2RtYW5fY3JlYXRlX21vdW50cwoJbG9jYWwgcnVuX29wdHM9Ii1kIC0tbmFtZT0ke0NPTlRBSU5FUn0iCgkjIGNoZWNrIHRvIHNlZSBpZiB0aGUgY29udGFpbmVyIGhhcyBhbHJlYWR5IHN0YXJ0ZWQKCXBvZG1hbl9zaW1wbGVfc3RhdHVzCglpZiBbICQ/IC1lcSAkT0NGX1NVQ0NFU1MgXTsgdGhlbgoJCXJldHVybiAiJE9DRl9TVUNDRVNTIgoJZmkKCglpZiBvY2ZfaXNfdHJ1ZSAiJEpPSU5fQVNfTEVBUk5FUiI7IHRoZW4KCQlsb2NhbCB3YWl0X3RpbWVvdXRfc2VjPSQoKDEwKjYwKSkKCQlsb2NhbCBwb2xsX2ludGVydmFsX3NlYz01CgkJbG9jYWwgcmV0cmllcz0kKCggd2FpdF90aW1lb3V0X3NlYyAvIHBvbGxfaW50ZXJ2YWxfc2VjICkpCgoJCW9jZl9sb2cgaW5mbyAiZW5zdXJlIHRoZSBsZWFkZXIgbm9kZSBhZGRlZCAkTk9ERU5BTUUgYXMgbGVhcm5lciBtZW1iZXIgYmVmb3JlIGNvbnRpbnVpbmcgKHRpbWVvdXQ6ICR3YWl0X3RpbWVvdXRfc2VjIHNlY29uZHMpIgoJCWZvciB0cnkgaW4gJChzZXEgJHJldHJpZXMpOyBkbwoJCQlsZWFybmVyX25vZGU9JChhdHRyaWJ1dGVfbGVhcm5lcl9ub2RlIGdldCkKCQkJaWYgWyAiJE5PREVOQU1FIiAhPSAiJGxlYXJuZXJfbm9kZSIgXTsgdGhlbgoJCQkJb2NmX2xvZyBpbmZvICIkbGVhcm5lcl9ub2RlIGlzIG5vdCBpbiB0aGUgbWVtYmVyIGxpc3QgeWV0LiBSZXRyeSBpbiAkcG9sbF9pbnRlcnZhbF9zZWMgc2Vjb25kcy4iCgkJCQlzbGVlcCAkcG9sbF9pbnRlcnZhbF9zZWMKCQkJCWNvbnRpbnVlCgkJCWZpCgkJCW9jZl9sb2cgaW5mbyAibGVhcm5lciBub2RlICRsZWFybmVyX25vZGUgaW4gdGhlIG1lbWJlciBsaXN0IgoJCQlicmVhawoJCWRvbmUKCQlpZiBbICIkTk9ERU5BTUUiICE9ICIkKGF0dHJpYnV0ZV9sZWFybmVyX25vZGUgZ2V0KSIgXTsgdGhlbgoJCQlvY2ZfbG9nIGVycm9yICJ3YWl0IGZvciAkTk9ERU5BTUUgdG8gYmUgaW4gdGhlIG1lbWJlciBsaXN0IHRpbWVkIG91dCIKCQkJcmV0dXJuICIkT0NGX0VSUl9HRU5FUklDIgoJCWZpCgoJCWFyY2hpdmVfZGF0YV9mb2xkZXIKCWZpCgoJcHJlcGFyZV9lbnYKCgkjIGFkZCBldGNkLXNwZWNpZmljIG9wdHMKCXJ1bl9vcHRzPSIkcnVuX29wdHMgXAoJCSAgICAtLW5ldHdvcms9aG9zdCBcCgkJICAgIC12IC9ldGMva3ViZXJuZXRlcy9zdGF0aWMtcG9kLXJlc291cmNlcy9ldGNkLWNlcnRzOi9ldGMva3ViZXJuZXRlcy9zdGF0aWMtcG9kLWNlcnRzIFwKCQkgICAgLXYgL3Zhci9saWIvZXRjZDovdmFyL2xpYi9ldGNkIFwKCQkgICAgLS1lbnYgQUxMX0VUQ0RfRU5EUE9JTlRTPSRBTExfRVRDRF9FTkRQT0lOVFMgXAoJCSAgICAtLWVudiBFVENEX0NJUEhFUl9TVUlURVM9JEVUQ0RfQ0lQSEVSX1NVSVRFUyBcCgkJICAgIC0tZW52IEVUQ0RfREFUQV9ESVI9JEVUQ0RfREFUQV9ESVIgXAoJCSAgICAtLWVudiBFVENEX0VMRUNUSU9OX1RJTUVPVVQ9JEVUQ0RfRUxFQ1RJT05fVElNRU9VVCBcCgkJICAgIC0tZW52IEVUQ0RfRU5BQkxFX1BQUk9GPSRFVENEX0VOQUJMRV9QUFJPRiBcCgkJICAgIC0tZW52IEVUQ0RfRVhQRVJJTUVOVEFMX01BWF9MRUFSTkVSUz0kRVRDRF9FWFBFUklNRU5UQUxfTUFYX0xFQVJORVJTIFwKCQkgICAgLS1lbnYgRVRDRF9FWFBFUklNRU5UQUxfV0FSTklOR19BUFBMWV9EVVJBVElPTj0kRVRDRF9FWFBFUklNRU5UQUxfV0FSTklOR19BUFBMWV9EVVJBVElPTiBcCgkJICAgIC0tZW52IEVUQ0RfRVhQRVJJTUVOVEFMX1dBVENIX1BST0dSRVNTX05PVElGWV9JTlRFUlZBTD0kRVRDRF9FWFBFUklNRU5UQUxfV0FUQ0hfUFJPR1JFU1NfTk9USUZZX0lOVEVSVkFMIFwKCQkgICAgLS1lbnYgRVRDRF9IRUFSVEJFQVRfSU5URVJWQUw9JEVUQ0RfSEVBUlRCRUFUX0lOVEVSVkFMIFwKCQkgICAgLS1lbnYgRVRDRF9JTklUSUFMX0NMVVNURVI9JEVUQ0RfSU5JVElBTF9DTFVTVEVSIFwKCQkgICAgLS1lbnYgRVRDRF9JTklUSUFMX0NMVVNURVJfU1RBVEU9JEVUQ0RfSU5JVElBTF9DTFVTVEVSX1NUQVRFIFwKCQkgICAgLS1lbnYgRVRDRF9OQU1FPSROT0RFTkFNRSBcCgkJICAgIC0tZW52IEVUQ0RfUVVPVEFfQkFDS0VORF9CWVRFUz0kRVRDRF9RVU9UQV9CQUNLRU5EX0JZVEVTIFwKCQkgICAgLS1lbnYgRVRDRF9TT0NLRVRfUkVVU0VfQUREUkVTUz0kRVRDRF9TT0NLRVRfUkVVU0VfQUREUkVTUyBcCgkJICAgIC0tZW52IEVUQ0RDVExfQVBJPSRFVENEQ1RMX0FQSSBcCgkJICAgIC0tZW52IEVUQ0RDVExfQ0FDRVJUPSRTRVJWRVJfQ0FDRVJUIFwKCQkgICAgLS1lbnYgRVRDRENUTF9DRVJUPSRFVENEX1BFRVJfQ0VSVCBcCgkJICAgIC0tZW52IEVUQ0RDVExfS0VZPSRFVENEX1BFRVJfS0VZIFwKCQkgICAgLS1hdXRoZmlsZT0kT0NGX1JFU0tFWV9hdXRoZmlsZSBcCgkJICAgIC0tc2VjdXJpdHktb3B0IGxhYmVsPWRpc2FibGUiCglpZiBbIC1uICIkT0NGX1JFU0tFWV9ydW5fb3B0cyIgXTsgdGhlbgoJCXJ1bl9vcHRzPSIkcnVuX29wdHMgJE9DRl9SRVNLRVlfcnVuX29wdHMiCglmaQoKCU9DRl9SRVNLRVlfcnVuX2NtZD0iJE9DRl9SRVNLRVlfcnVuX2NtZCAtLWxvZ2dlcj16YXAgXAoJCSAgICAtLWxvZy1sZXZlbD1pbmZvIFwKCQkgICAgLS1leHBlcmltZW50YWwtaW5pdGlhbC1jb3JydXB0LWNoZWNrPXRydWUgXAoJCSAgICAtLXNuYXBzaG90LWNvdW50PTEwMDAwIFwKCQkgICAgLS1pbml0aWFsLWFkdmVydGlzZS1wZWVyLXVybHM9aHR0cHM6Ly8ke05PREVJUH06MjM4MCBcCgkJICAgIC0tY2VydC1maWxlPS9ldGMva3ViZXJuZXRlcy9zdGF0aWMtcG9kLWNlcnRzL3NlY3JldHMvZXRjZC1hbGwtY2VydHMvZXRjZC1zZXJ2aW5nLSR7Tk9ERU5BTUV9LmNydCBcCgkJICAgIC0ta2V5LWZpbGU9L2V0Yy9rdWJlcm5ldGVzL3N0YXRpYy1wb2QtY2VydHMvc2VjcmV0cy9ldGNkLWFsbC1jZXJ0cy9ldGNkLXNlcnZpbmctJHtOT0RFTkFNRX0ua2V5IFwKCQkgICAgLS10cnVzdGVkLWNhLWZpbGU9JFNFUlZFUl9DQUNFUlQgXAoJCSAgICAtLWNsaWVudC1jZXJ0LWF1dGg9dHJ1ZSBcCgkJICAgIC0tcGVlci1jZXJ0LWZpbGU9JEVUQ0RfUEVFUl9DRVJUIFwKCQkgICAgLS1wZWVyLWtleS1maWxlPSRFVENEX1BFRVJfS0VZIFwKCQkgICAgLS1wZWVyLXRydXN0ZWQtY2EtZmlsZT0kU0VSVkVSX0NBQ0VSVCBcCgkJICAgIC0tcGVlci1jbGllbnQtY2VydC1hdXRoPXRydWUgXAoJCSAgICAtLWFkdmVydGlzZS1jbGllbnQtdXJscz1odHRwczovLyR7Tk9ERUlQfToyMzc5IFwKCQkgICAgLS1saXN0ZW4tY2xpZW50LXVybHM9aHR0cHM6Ly8ke0xJU1RFTl9DTElFTlRfVVJMU306MjM3OSx1bml4czovLyR7Tk9ERUlQfTowIFwKCQkgICAgLS1saXN0ZW4tcGVlci11cmxzPWh0dHBzOi8vJHtMSVNURU5fUEVFUl9VUkxTfToyMzgwIFwKCQkgICAgLS1tZXRyaWNzPWV4dGVuc2l2ZSBcCgkJICAgIC0tbGlzdGVuLW1ldHJpY3MtdXJscz1odHRwczovLyR7TElTVEVOX01FVFJJQ1NfVVJMU306OTk3OCIKCWlmIFsgLW4gIiRPQ0ZfUkVTS0VZX3J1bl9jbWRfb3B0cyIgXTsgdGhlbgoJCU9DRl9SRVNLRVlfcnVuX2NtZD0iJE9DRl9SRVNLRVlfcnVuX2NtZCAkT0NGX1JFU0tFWV9ydW5fY21kX29wdHMiCglmaQoKCWlmIGlzX2ZvcmNlX25ld19jbHVzdGVyOyB0aGVuCgkJT0NGX1JFU0tFWV9ydW5fY21kPSIkT0NGX1JFU0tFWV9ydW5fY21kIC0tZm9yY2UtbmV3LWNsdXN0ZXIiCglmaQoKCWlmIFsgIiRPQ0ZfUkVTS0VZX2ltYWdlIiA9PSAiJE9DRl9SRVNLRVlfaW1hZ2VfZGVmYXVsdCIgXTsgdGhlbgoJCSMgbm8gY29udGFpbmVyIGltYWdlIHByb3ZpZGVkIHZpYSBpbnB1dCBwYXJhbWV0ZXJzLiBSZWFkIGl0IGZyb20gdGhlIHBvZCBtYW5pZmVzdC4KCQlPQ0ZfUkVTS0VZX2ltYWdlPSQoanEgLXIgJy5zcGVjLmNvbnRhaW5lcnNbXSB8IHNlbGVjdCggLm5hbWU9PSJldGNkIikuaW1hZ2UnICIkT0NGX1JFU0tFWV9wb2RfbWFuaWZlc3QiKQoJCW9jZl9sb2cgaW5mbyAidXNpbmcgY29udGFpbmVyIGltYWdlICgkT0NGX1JFU0tFWV9pbWFnZSkgZnJvbSBQb2QgbWFuaWZlc3QgKCRPQ0ZfUkVTS0VZX3BvZF9tYW5pZmVzdCkiCgllbHNlCgkJIyB1c2UgdGhlIGNvbnRhaW5lciBpbWFnZSBwcm92aWRlZCBhcyBpbnB1dCBwYXJhbWV0ZXIKCQlvY2ZfbG9nIGluZm8gInVzaW5nIGNvbnRhaW5lciBpbWFnZSAoJE9DRl9SRVNLRVlfaW1hZ2UpIHZpYSBpbnB1dCBwYXJhbWV0ZXJzIgoJZmkKCglpZiBbICRSRVFVSVJFX0lNQUdFX1BVTEwgLWVxIDEgXTsgdGhlbgoJCW9jZl9sb2cgbm90aWNlICJCZWdpbm5pbmcgcHVsbCBvZiBpbWFnZSwgJHtPQ0ZfUkVTS0VZX2ltYWdlfSIKCQlwb2RtYW4gcHVsbCAtLWF1dGhmaWxlPSRPQ0ZfUkVTS0VZX2F1dGhmaWxlICIke09DRl9SRVNLRVlfaW1hZ2V9IgoJCWlmIFsgJD8gLW5lIDAgXTsgdGhlbgoJCQlvY2ZfZXhpdF9yZWFzb24gImZhaWxlZCB0byBwdWxsIGltYWdlICR7T0NGX1JFU0tFWV9pbWFnZX0iCgkJCXJldHVybiAkT0NGX0VSUl9HRU5FUklDCgkJZmkKCWVsc2UKCQlvY2ZfbG9nIG5vdGljZSAiUHVsbCBpbWFnZSBub3QgcmVxdWlyZWQsICR7T0NGX1JFU0tFWV9pbWFnZX0iCglmaQoKCWlmIG9jZl9pc190cnVlICIkT0NGX1JFU0tFWV9yZXVzZSIgJiYgY29udGFpbmVyX2V4aXN0czsgdGhlbgoJCW9jZl9sb2cgaW5mbyAic3RhcnRpbmcgZXhpc3RpbmcgY29udGFpbmVyICRDT05UQUlORVIuIgoJCW9jZl9ydW4gcG9kbWFuIHN0YXJ0ICRDT05UQUlORVIKCWVsc2UKCQkjIG1ha2Ugc3VyZSBhbnkgcHJldmlvdXMgY29udGFpbmVyIG1hdGNoaW5nIG91ciBjb250YWluZXIgbmFtZSBpcyBjbGVhbmVkIHVwIGZpcnN0LgoJCSMgd2UgYWxyZWFkeSBrbm93IGF0IHRoaXMgcG9pbnQgaXQgd291bGRuJ3QgYmUgcnVubmluZwoJCXJlbW92ZV9jb250YWluZXIKCQlydW5fbmV3X2NvbnRhaW5lciAiJHJ1bl9vcHRzIiAkT0NGX1JFU0tFWV9pbWFnZSAiJE9DRl9SRVNLRVlfcnVuX2NtZCIKCQlpZiBbICQ/IC1lcSAxMjUgXTsgdGhlbgoJCQlyZXR1cm4gJE9DRl9FUlJfR0VORVJJQwoJCWZpCglmaQoJcmM9JD8KCgkjIGlmIHRoZSBjb250YWluZXIgd2FzIHN0b3BwZWQgb3IgZGlkbid0IGV4aXN0IGJlZm9yZSwgc3lzdGVtZAoJIyByZW1vdmVkIHRoZSBsaWJwb2QqIHNjb3Blcy4gU28gYWx3YXlzIHRyeSB0byByZWNyZWF0ZSB0aGUgZHJvcC1pbnMKCWlmIFsgJHJjIC1lcSAwIF0gJiYgb2NmX2lzX3RydWUgIiRPQ0ZfUkVTS0VZX2Ryb3BfaW5fZGVwZW5kZW5jeSI7IHRoZW4KCQljaWQ9JChwb2RtYW5fY29udGFpbmVyX2lkKQoJCWNyZWF0ZV90cmFuc2llbnRfZHJvcF9pbl9kZXBlbmRlbmN5ICIkY2lkIgoJCXJjPSQ/CglmaQoKCWlmIFsgJHJjIC1uZSAwIF07IHRoZW4KCQlvY2ZfZXhpdF9yZWFzb24gInBvZG1hbiBmYWlsZWQgdG8gbGF1bmNoIGNvbnRhaW5lciAocmM6ICRyYykiCgkJcmV0dXJuICRPQ0ZfRVJSX0dFTkVSSUMKCWZpCgoJIyB3YWl0IGZvciBtb25pdG9yIHRvIHBhc3MgYmVmb3JlIGRlY2xhcmluZyB0aGF0IHRoZSBjb250YWluZXIgaXMgc3RhcnRlZAoJd2hpbGUgdHJ1ZTsgZG8KCQlwb2RtYW5fc2ltcGxlX3N0YXR1cwoJCWlmIFsgJD8gLW5lICRPQ0ZfU1VDQ0VTUyBdOyB0aGVuCgkJCW9jZl9leGl0X3JlYXNvbiAiTmV3bHkgY3JlYXRlZCBwb2RtYW4gY29udGFpbmVyIGV4aXRlZCBhZnRlciBzdGFydCIKCQkJb2NmX3J1biBwb2RtYW4gbG9ncyAtLXRhaWwgMjAgJHtDT05UQUlORVJ9CgkJCXJldHVybiAkT0NGX0VSUl9HRU5FUklDCgkJZmkKCgkJbW9uaXRvcl9jbWRfZXhlYwoJCWlmIFsgJD8gLWVxICRPQ0ZfU1VDQ0VTUyBdOyB0aGVuCgkJCW9jZl9sb2cgbm90aWNlICJDb250YWluZXIgJENPTlRBSU5FUiBzdGFydGVkIHN1Y2Nlc3NmdWxseSIKCQkJaWYgaXNfZm9yY2VfbmV3X2NsdXN0ZXI7IHRoZW4KCQkJCWNsZWFyX2ZvcmNlX25ld19jbHVzdGVyCgoJCQkJbG9jYWwgcGVlcl9ub2RlX25hbWU9JChnZXRfcGVlcl9ub2RlX25hbWUpCgkJCQlsb2NhbCBwZWVyX25vZGVfaXA9JChnZXRfcGVlcl9ub2RlX2lwKQoJCQkJaWYgWyAtbiAiJHBlZXJfbm9kZV9uYW1lIiBdICYmIFsgLW4gIiRwZWVyX25vZGVfaXAiIF07IHRoZW4KCQkJCQlhZGRfbWVtYmVyX2FzX2xlYXJuZXIgJHBlZXJfbm9kZV9uYW1lICRwZWVyX25vZGVfaXAKCQkJCWVsc2UKCQkJCQlvY2ZfbG9nIGVycm9yICJjb3VsZCBub3QgYWRkIHBlZXIgYXMgbGVhcm5lciAocGVlciBub2RlIG5hbWU6ICR7cGVlcl9ub2RlX25hbWU6LXVua25vd259LCBwZWVyIGlwOiAke3BlZXJfbm9kZV9pcDotdW5rbm93bn0pIgoJCQkJZmkKCQkJZmkKCQkJcmV0dXJuICRPQ0ZfU1VDQ0VTUwoJCWZpCgoJCW9jZl9leGl0X3JlYXNvbiAid2FpdGluZyBvbiBtb25pdG9yX2NtZCB0byBwYXNzIGFmdGVyIHN0YXJ0IgoJCXNsZWVwIDEKCWRvbmUKfQoKcG9kbWFuX3N0b3AoKQp7Cglsb2NhbCB0aW1lb3V0PTYwCglsb2NhbCByYwoJcG9kbWFuX3NpbXBsZV9zdGF0dXMKCWlmIFsgJD8gLWVxICAkT0NGX05PVF9SVU5OSU5HIF07IHRoZW4KCQlyZW1vdmVfY29udGFpbmVyCgkJb2NmX2xvZyBpbmZvICJjb3VsZCBub3QgbGVhdmUgbWVtYmVycyBsaXN0OiBldGNkIGNvbnRhaW5lciBub3QgcnVubmluZyIKCQlyZXR1cm4gJE9DRl9TVUNDRVNTCglmaQoKCW1lbWJlcl9pZD0kKGdldF9jYWNoZWRfbWVtYmVyX2lkKQoJaWYgWyAteiAiJG1lbWJlcl9pZCIgXTsgdGhlbgoJCW9jZl9sb2cgZXJyICJlcnJvciBsZWF2aW5nIG1lbWJlcnMgbGlzdDogY291bGQgbm90IGdldCBjYWNoZWQgbWVtYmVyIElEIgoJZWxzZQoJCSMgVE9ETzogaXMgaXQgd29ydGgvcG9zc2libGUgdG8gY2hlY2sgdGhlIGN1cnJlbnQgc3RhdHVzIGluc3RlYWQgdGhhbiByZWx5aW5nIG9uIGNhY2hlZCBhdHRyaWJ1dGVzPwoJCWlmIGlzX3N0YW5kYWxvbmU7IHRoZW4KCQkJb2NmX2xvZyBpbmZvICJsYXN0IG1lbWJlci4gTm90IGxlYXZpbmcgdGhlIG1lbWJlciBsaXN0IgoJCWVsc2UKCQkJb2NmX2xvZyBpbmZvICJsZWF2aW5nIG1lbWJlcnMgbGlzdCBhcyBtZW1iZXIgd2l0aCBJRCAkbWVtYmVyX2lkIgoJCQllbmRwb2ludD0iaHR0cHM6Ly8kKGF0dHJpYnV0ZV9ub2RlX2lwIGdldCk6MjM3OSIKCQkJb2NmX3J1biBwb2RtYW4gZXhlYyAkQ09OVEFJTkVSIGV0Y2RjdGwgbWVtYmVyIHJlbW92ZSAkbWVtYmVyX2lkIC0tZW5kcG9pbnRzPSRlbmRwb2ludAoJCQlyYz0kPwoJCQlpZiBbICQ/IC1uZSAwIF07IHRoZW4KCQkJCW9jZl9sb2cgZXJyICJlcnJvciBsZWF2aW5nIG1lbWJlcnMgbGlzdDogZXJyb3IgY29kZSAkcmMiCgkJCWZpCgkJZmkKCWZpCgljbGVhcl9tZW1iZXJfaWQKCglpZiBbIC1uICIkT0NGX1JFU0tFWV9DUk1fbWV0YV90aW1lb3V0IiBdOyB0aGVuCgkJdGltZW91dD0kKCgoJE9DRl9SRVNLRVlfQ1JNX21ldGFfdGltZW91dC8xMDAwKSAtMTAgKSkKCQlpZiBbICR0aW1lb3V0IC1sdCAxMCBdOyB0aGVuCgkJCXRpbWVvdXQ9MTAKCQlmaQoJZmkKCglpZiBvY2ZfaXNfdHJ1ZSAiJE9DRl9SRVNLRVlfZm9yY2Vfa2lsbCI7IHRoZW4KCQlvY2ZfcnVuIHBvZG1hbiBraWxsICRDT05UQUlORVIKCQlyYz0kPwoJZWxzZQoJCW9jZl9sb2cgZGVidWcgIndhaXRpbmcgJHRpbWVvdXQgc2Vjb25kW3NdIGJlZm9yZSBraWxsaW5nIGNvbnRhaW5lciIKCQlvY2ZfcnVuIHBvZG1hbiBzdG9wIC10PSR0aW1lb3V0ICRDT05UQUlORVIKCQlyYz0kPwoJCSMgb24gc3RvcCwgc3lzdGVtZCB3aWxsIGF1dG9tYXRpY2FsbHkgZGVsZXRlIGFueSB0cmFuc2llbnQKCQkjIGRyb3AtaW4gY29uZiB0aGF0IGhhcyBiZWVuIGNyZWF0ZWQgZWFybGllcgoJZmkKCglpZiBbICRyYyAtbmUgMCBdOyB0aGVuCgkJIyBJZiB0aGUgc3RvcCBmYWlsZWQsIGl0IGNvdWxkIGJlIGJlY2F1c2UgdGhlIGNvbnRyb2xsaW5nIGNvbm1vbgoJCSMgcHJvY2VzcyBkaWVkIHVuZXhwZWN0ZWRseS4gSWYgc28sIGEgZ2VuZXJpYyBlcnJvciBjb2RlIGlzIHJldHVybmVkCgkJIyBidXQgdGhlIGFzc29jaWF0ZWQgY29udGFpbmVyIGV4aXQgY29kZSBpcyAtMS4gSWYgdGhhdCdzIHRoZSBjYXNlLAoJCSMgYXNzdW1lIHRoZXJlJ3Mgbm8gZmFpbHVyZSBhbmQgY29udGludWUgd2l0aCB0aGUgcm0gYXMgdXN1YWwuCgkJaWYgWyAkcmMgLWVxIDEyNSBdICYmIFwKCQkJcG9kbWFuIGluc3BlY3QgLS1mb3JtYXQgJ3t7LlN0YXRlLlN0YXR1c319Ont7LlN0YXRlLkV4aXRDb2RlfX0nICRDT05UQUlORVIgfCBncmVwIC1FcSAnXihleGl0ZWR8c3RvcHBlZCk6LTEkJzsgdGhlbgoJCQlvY2ZfbG9nIGVyciAiQ29udGFpbmVyICR7Q09OVEFJTkVSfSBoYWQgYW4gdW5leHBlY3RlZCBzdG9wIG91dGNvbWUuIFRyeWluZyB0byByZW1vdmUgaXQgYW55d2F5LiIKCQllbHNlCgkJCW9jZl9leGl0X3JlYXNvbiAiRmFpbGVkIHRvIHN0b3AgY29udGFpbmVyLCAke0NPTlRBSU5FUn0sIGJhc2VkIG9uIGltYWdlLCAke09DRl9SRVNLRVlfaW1hZ2V9LiIKCQkJcmV0dXJuICRPQ0ZfRVJSX0dFTkVSSUMKCQlmaQoJZmkKCglyZW1vdmVfY29udGFpbmVyCglpZiBbICQ/IC1uZSAwIF07IHRoZW4KCQlvY2ZfZXhpdF9yZWFzb24gIkZhaWxlZCB0byByZW1vdmUgc3RvcHBlZCBjb250YWluZXIsICR7Q09OVEFJTkVSfSwgYmFzZWQgb24gaW1hZ2UsICR7T0NGX1JFU0tFWV9pbWFnZX0uIgoJCXJldHVybiAkT0NGX0VSUl9HRU5FUklDCglmaQoKCXJldHVybiAkT0NGX1NVQ0NFU1MKfQoKaW1hZ2VfZXhpc3RzKCkKewoJaWYgWyAiJE9DRl9SRVNLRVlfaW1hZ2UiID09ICIkT0NGX1JFU0tFWV9pbWFnZV9kZWZhdWx0IiBdOyB0aGVuCgkJIyB0aGUgYWN0dWFsIGNvbnRhaW5lciBpbWFnZSB3YXMgbm90IGRlZmluZWQgeWV0LiBOb3IgYnkKCQkjIHRoZSB1c2VyIHZpYSBPQ0ZfUkVTS0VZLCBub3IgYnkgcmVhZGluZyB0aGUgUG9kIG1hbmlmZXN0CgkJcmV0dXJuIDAKCWZpCglwb2RtYW4gaW1hZ2UgZXhpc3RzICIke09DRl9SRVNLRVlfaW1hZ2V9IgoJaWYgWyAkPyAtZXEgMCBdOyB0aGVuCgkJIyBpbWFnZSBmb3VuZAoJCXJldHVybiAwCglmaQoKCWlmIG9jZl9pc190cnVlICIkT0NGX1JFU0tFWV9hbGxvd19wdWxsIjsgdGhlbgoJCVJFUVVJUkVfSU1BR0VfUFVMTD0xCgkJb2NmX2xvZyBub3RpY2UgIkltYWdlICgke09DRl9SRVNLRVlfaW1hZ2V9KSBkb2VzIG5vdCBleGlzdCBsb2NhbGx5IGJ1dCB3aWxsIGJlIHB1bGxlZCBkdXJpbmcgc3RhcnQiCgkJcmV0dXJuIDAKCWZpCgkjIGltYWdlIG5vdCBmb3VuZC4KCXJldHVybiAxCn0KCnBvZG1hbl92YWxpZGF0ZSgpCnsKCWNoZWNrX2JpbmFyeSBjdXJsCgljaGVja19iaW5hcnkgY3JpY3RsCgljaGVja19iaW5hcnkgb2MKCWNoZWNrX2JpbmFyeSBwb2RtYW4KCWNoZWNrX2JpbmFyeSBqcQoKCWlmIFsgLXogIiRPQ0ZfUkVTS0VZX25vZGVfaXBfbWFwIiBdOyB0aGVuCgkJb2NmX2V4aXRfcmVhc29uICInbm9kZV9pcF9tYXAnIG9wdGlvbiBpcyByZXF1aXJlZCIKCQlleGl0ICRPQ0ZfRVJSX0NPTkZJR1VSRUQKCWZpCgoJaWYgWyAteiAiJE9DRl9SRVNLRVlfcG9kX21hbmlmZXN0IiBdOyB0aGVuCgkJb2NmX2V4aXRfcmVhc29uICIncG9kX21hbmlmZXN0JyBvcHRpb24gaXMgcmVxdWlyZWQiCgkJZXhpdCAkT0NGX0VSUl9DT05GSUdVUkVECglmaQoKCWlmIFsgLXogIiRPQ0ZfUkVTS0VZX2ltYWdlIiBdOyB0aGVuCgkJb2NmX2V4aXRfcmVhc29uICInaW1hZ2UnIG9wdGlvbiBpcyByZXF1aXJlZCIKCQlleGl0ICRPQ0ZfRVJSX0NPTkZJR1VSRUQKCWZpCgoJaW1hZ2VfZXhpc3RzCglpZiBbICQ/IC1uZSAwIF07IHRoZW4KCQlvY2ZfZXhpdF9yZWFzb24gImJhc2UgaW1hZ2UsICR7T0NGX1JFU0tFWV9pbWFnZX0sIGNvdWxkIG5vdCBiZSBmb3VuZC4iCgkJZXhpdCAkT0NGX0VSUl9DT05GSUdVUkVECglmaQoKCXJldHVybiAkT0NGX1NVQ0NFU1MKfQoKcG9kbWFuX25vdGlmeSgpCnsKCW9jZl9sb2cgaW5mbyAibm90aWZ5OiB0eXBlPSR7T0NGX1JFU0tFWV9DUk1fbWV0YV9ub3RpZnlfdHlwZX0sIG9wZXJhdGlvbj0ke09DRl9SRVNLRVlfQ1JNX21ldGFfbm90aWZ5X29wZXJhdGlvbn0sIG5vZGVzIHsgYWN0aXZlPVske09DRl9SRVNLRVlfQ1JNX21ldGFfbm90aWZ5X2FjdGl2ZV91bmFtZX1dLCBzdGFydD1bJHtPQ0ZfUkVTS0VZX0NSTV9tZXRhX25vdGlmeV9zdGFydF91bmFtZX1dLCBzdG9wPVske09DRl9SRVNLRVlfQ1JNX21ldGFfbm90aWZ5X3N0b3BfdW5hbWV9XSB9LCByZXNvdXJjZXMgeyBhY3RpdmU9WyR7T0NGX1JFU0tFWV9DUk1fbWV0YV9ub3RpZnlfYWN0aXZlX3Jlc291cmNlfV0sIHN0YXJ0ID1bJHtPQ0ZfUkVTS0VZX0NSTV9tZXRhX25vdGlmeV9zdGFydF9yZXNvdXJjZX1dLCBzdG9wPVske09DRl9SRVNLRVlfQ1JNX21ldGFfbm90aWZ5X3N0b3BfcmVzb3VyY2V9XSB9Igp9CgojIFRPRE8gOgojIFdoZW4gYSB1c2VyIHN0YXJ0cyBwbHVyYWwgY2xvbmVzIGluIGEgbm9kZSBpbiBnbG9iYWxseS11bmlxdWUsIGEgdXNlciBjYW5ub3QgYXBwb2ludCBwbHVyYWwgbmFtZSBwYXJhbWV0ZXJzLgojIFdoZW4gYSB1c2VyIGFwcG9pbnRzIHJldXNlLCB0aGUgcmVzb3VyY2UgYWdlbnQgY2Fubm90IGNvbm5lY3QgcGx1cmFsIGNsb25lcyB3aXRoIGEgY29udGFpbmVyLgoKaWYgb2NmX2lzX3RydWUgIiRPQ0ZfUkVTS0VZX0NSTV9tZXRhX2dsb2JhbGx5X3VuaXF1ZSI7IHRoZW4KCWlmIFsgLW4gIiRPQ0ZfUkVTS0VZX25hbWUiIF07IHRoZW4KCQlpZiBbIC1uICIkT0NGX1JFU0tFWV9DUk1fbWV0YV9jbG9uZV9ub2RlX21heCIgXSAmJiBbICIkT0NGX1JFU0tFWV9DUk1fbWV0YV9jbG9uZV9ub2RlX21heCIgLW5lIDEgXQoJCXRoZW4KCQkJb2NmX2V4aXRfcmVhc29uICJDYW5ub3QgbWFrZSBwbHVyYWwgY2xvbmVzIGZyb20gdGhlIHNhbWUgbmFtZSBwYXJhbWV0ZXIuIgoJCQlleGl0ICRPQ0ZfRVJSX0NPTkZJR1VSRUQKCQlmaQoJCWlmIFsgLW4gIiRPQ0ZfUkVTS0VZX0NSTV9tZXRhX21hc3Rlcl9ub2RlX21heCIgXSAmJiBbICIkT0NGX1JFU0tFWV9DUk1fbWV0YV9tYXN0ZXJfbm9kZV9tYXgiIC1uZSAxIF0KCQl0aGVuCgkJCW9jZl9leGl0X3JlYXNvbiAiQ2Fubm90IG1ha2UgcGx1cmFsIG1hc3RlciBmcm9tIHRoZSBzYW1lIG5hbWUgcGFyYW1ldGVyLiIKCQkJZXhpdCAkT0NGX0VSUl9DT05GSUdVUkVECgkJZmkKCWZpCgk6ICR7T0NGX1JFU0tFWV9uYW1lPWBlY2hvICR7T0NGX1JFU09VUkNFX0lOU1RBTkNFfSB8IHRyICc6JyAnLSdgfQplbHNlCgk6ICR7T0NGX1JFU0tFWV9uYW1lPSR7T0NGX1JFU09VUkNFX0lOU1RBTkNFfX0KZmkKCkNPTlRBSU5FUj0kT0NGX1JFU0tFWV9uYW1lCgojIE5vdGU6IHdlIGN1cnJlbnRseSBtb25pdG9yIHBvZG1hbiBjb250YWluZXJzIGJ5IHdpdGggdGhlICJwb2RtYW4gZXhlYyIKIyBjb21tYW5kLCBzbyBtYWtlIHN1cmUgdGhhdCBpbnZvY2F0aW9uIGlzIGFsd2F5cyB2YWxpZCBieSBlbmZvcmNpbmcgdGhlCiMgZXhlYyBjb21tYW5kIHRvIGJlIG5vbi1lbXB0eQo6ICR7T0NGX1JFU0tFWV9tb25pdG9yX2NtZDo9L2Jpbi90cnVlfQoKIyBXaGVuIE9DRl9SRVNLRVlfZHJvcF9pbl9kZXBlbmRlbmN5IGlzIG5vdCBwb3B1bGF0ZWQsIHdlCiMgbG9vayBhdCBhbm90aGVyIGZpbGUtYmFzZWQgd2F5IG9mIGVuYWJsaW5nIHRoZSBvcHRpb24uCiMgT3RoZXJ3aXNlLCBjb25zaWRlciBpdCBkaXNhYmxlZC4KaWYgWyAteiAiJE9DRl9SRVNLRVlfZHJvcF9pbl9kZXBlbmRlbmN5IiBdOyB0aGVuCglpZiBbIC1mICIvZXRjL3N5c2NvbmZpZy9wb2RtYW5fZHJvcF9pbiIgXSB8fCBcCgkgICBbIC1mICIvZXRjL2RlZmF1bHQvcG9kbWFuX2Ryb3BfaW4iIF07IHRoZW4KCQlPQ0ZfUkVTS0VZX2Ryb3BfaW5fZGVwZW5kZW5jeT15ZXMKCWZpCmZpCgoKY2FzZSAkX19PQ0ZfQUNUSU9OIGluCm1ldGEtZGF0YSkJbWV0YV9kYXRhCgkJZXhpdCAkT0NGX1NVQ0NFU1M7Owp1c2FnZXxoZWxwKQlwb2RtYW5fdXNhZ2UKCQlleGl0ICRPQ0ZfU1VDQ0VTUwoJCTs7CmVzYWMKCk5PREVOQU1FPSQob2NmX2xvY2FsX25vZGVuYW1lKQpKT0lOX0FTX0xFQVJORVI9ZmFsc2UKCmNhc2UgJF9fT0NGX0FDVElPTiBpbgpzdGFydCkKCQlwb2RtYW5fdmFsaWRhdGUgfHwgZXhpdCAkPwoJCXBvZG1hbl9zdGFydDs7CnN0b3ApCQlwb2RtYW5fc3RvcDs7Cm1vbml0b3IpCXBvZG1hbl9tb25pdG9yOzsKbm90aWZ5KSAJcG9kbWFuX25vdGlmeTs7CnZhbGlkYXRlLWFsbCkJcG9kbWFuX3ZhbGlkYXRlOzsKKikJCXBvZG1hbl91c2FnZQoJCWV4aXQgJE9DRl9FUlJfVU5JTVBMRU1FTlRFRAoJCTs7CmVzYWMKcmM9JD8Kb2NmX2xvZyBkZWJ1ZyAiJHtPQ0ZfUkVTT1VSQ0VfSU5TVEFOQ0V9ICRfX09DRl9BQ1RJT04gOiAkcmMiCmV4aXQgJHJjCg==
